1
00:00:00,000 --> 00:00:38,110

2
00:00:38,110 --> 00:00:39,080
PAUL KINLAN: Hi everyone.

3
00:00:39,080 --> 00:00:40,780
Welcome to Mobile
Web Thursdays.

4
00:00:40,780 --> 00:00:42,160
I'm Paul Kinlan.

5
00:00:42,160 --> 00:00:43,100
JAKE ARCHIBALD: And I'm
Jake Archibald.

6
00:00:43,100 --> 00:00:45,320
Thank you for tuning in.

7
00:00:45,320 --> 00:00:45,620
PAUL KINLAN: Yeah.

8
00:00:45,620 --> 00:00:46,310
That's right, actually.

9
00:00:46,310 --> 00:00:47,750
That was actually pretty good.

10
00:00:47,750 --> 00:00:47,800
JAKE ARCHIBALD: Yeah.

11
00:00:47,800 --> 00:00:49,150
I'm getting the hang
of this TV thing.

12
00:00:49,150 --> 00:00:49,670
PAUL KINLAN: He's been
planning that for

13
00:00:49,670 --> 00:00:50,650
about two hours now.

14
00:00:50,650 --> 00:00:51,350
JAKE ARCHIBALD: Oh,
it's very good.

15
00:00:51,350 --> 00:00:51,670
PAUL KINLAN: Yeah.

16
00:00:51,670 --> 00:00:52,590
JAKE ARCHIBALD: I'm very
happy with myself.

17
00:00:52,590 --> 00:00:52,890
PAUL KINLAN: Yeah.

18
00:00:52,890 --> 00:00:55,100
So we're also known as
the Chuckle Brothers.

19
00:00:55,100 --> 00:00:58,640
And today we're going to be
talking about Mobile Web

20
00:00:58,640 --> 00:00:59,640
Performance.

21
00:00:59,640 --> 00:00:59,890
Right?

22
00:00:59,890 --> 00:01:00,300
JAKE ARCHIBALD: Yes.

23
00:01:00,300 --> 00:01:01,080
PAUL KINLAN: So shall
we get started?

24
00:01:01,080 --> 00:01:01,410
JAKE ARCHIBALD: Yeah.

25
00:01:01,410 --> 00:01:02,710
Why not?

26
00:01:02,710 --> 00:01:06,350
One of the things that really
bugs me when people talk about

27
00:01:06,350 --> 00:01:09,590
mobile performance is they're
either treating mobiles as

28
00:01:09,590 --> 00:01:11,405
this special thing--

29
00:01:11,405 --> 00:01:15,050
And mobiles really aren't
that special, right?

30
00:01:15,050 --> 00:01:15,990
OK, they're touch.

31
00:01:15,990 --> 00:01:17,840
But touch isn't just mobile.

32
00:01:17,840 --> 00:01:20,570
We've got Chromebook
Pixel here.

33
00:01:20,570 --> 00:01:21,310
That's got touch.

34
00:01:21,310 --> 00:01:23,170
These Windows devices
are the same.

35
00:01:23,170 --> 00:01:24,080
PAUL KINLAN: Is that touch?

36
00:01:24,080 --> 00:01:24,440
JAKE ARCHIBALD: No.

37
00:01:24,440 --> 00:01:25,012
It is a Mac.

38
00:01:25,012 --> 00:01:26,550
It's not touch.

39
00:01:26,550 --> 00:01:28,680
You could say, oh,
cellular data.

40
00:01:28,680 --> 00:01:29,360
That's mobile.

41
00:01:29,360 --> 00:01:29,950
But it's not.

42
00:01:29,950 --> 00:01:32,670
Because once again, people run
their laptops off MiFis,

43
00:01:32,670 --> 00:01:34,640
things like that.

44
00:01:34,640 --> 00:01:38,520
And sometimes your phone is
quite often on WiFi data.

45
00:01:38,520 --> 00:01:42,390
In fact, some small devices
like your Nexus 7s or your

46
00:01:42,390 --> 00:01:45,860
iPod Touches, they don't have
cellular data on all

47
00:01:45,860 --> 00:01:47,530
models of them do.

48
00:01:47,530 --> 00:01:53,030
Mobiles are really just smaller
and less power than a

49
00:01:53,030 --> 00:01:53,680
main desktop machine.

50
00:01:53,680 --> 00:01:53,870
PAUL KINLAN: Yeah.

51
00:01:53,870 --> 00:01:54,830
JAKE ARCHIBALD: Wouldn't
you say?

52
00:01:54,830 --> 00:01:55,080
PAUL KINLAN: Yeah.

53
00:01:55,080 --> 00:01:56,110
It's kind of interesting.

54
00:01:56,110 --> 00:01:58,460
I think what's starting to lead
us to what we're trying

55
00:01:58,460 --> 00:02:01,266
to talk about today is that
we were at Educomm--

56
00:02:01,266 --> 00:02:04,370
It was Educomm, wasn't it?-- and
I think Facebook said that

57
00:02:04,370 --> 00:02:07,140
they noticed a significant drop
off of interaction based

58
00:02:07,140 --> 00:02:11,930
off the change of frame rate
between 60 frames a second

59
00:02:11,930 --> 00:02:13,440
down to 30 frames a second.

60
00:02:13,440 --> 00:02:16,040
And the slower and the jankier
the experience was actually

61
00:02:16,040 --> 00:02:18,920
inside the application, the less
engagement that they got,

62
00:02:18,920 --> 00:02:21,510
which got us thinking about--

63
00:02:21,510 --> 00:02:23,330
well, we've been doing it for a
little while now-- but we're

64
00:02:23,330 --> 00:02:25,670
starting to push more about
this jank-free--

65
00:02:25,670 --> 00:02:27,980
I've got to say that correctly,
because I can never

66
00:02:27,980 --> 00:02:31,100
say that quite right--

67
00:02:31,100 --> 00:02:33,300
experience where you'll
get 60 frames a second

68
00:02:33,300 --> 00:02:34,240
experience on mobile.

69
00:02:34,240 --> 00:02:36,060
And a lot of people
think you can't.

70
00:02:36,060 --> 00:02:36,930
We think you can.

71
00:02:36,930 --> 00:02:40,880
And I think we're going to try
and show you today some of the

72
00:02:40,880 --> 00:02:44,290
gotchas, the how-tos,
the wherefores.

73
00:02:44,290 --> 00:02:45,496
What else can we say?

74
00:02:45,496 --> 00:02:49,400
JAKE ARCHIBALD: Well, if you
serve just a lump of HTML to a

75
00:02:49,400 --> 00:02:51,900
phone, it works.

76
00:02:51,900 --> 00:02:54,280
It works quite well, and
it runs quite fast.

77
00:02:54,280 --> 00:02:57,820
So saying how to make something
faster in mobile

78
00:02:57,820 --> 00:02:59,670
isn't really the right
thing to say.

79
00:02:59,670 --> 00:03:03,010
We're saying how not to make it
slow, because it's fast to

80
00:03:03,010 --> 00:03:03,550
begin with.

81
00:03:03,550 --> 00:03:07,250
As developers, we're the
ones who make it slow.

82
00:03:07,250 --> 00:03:10,870
So I don't swear very
much as a person.

83
00:03:10,870 --> 00:03:11,770
Is that fair to say?

84
00:03:11,770 --> 00:03:12,430
PAUL KINLAN: No.

85
00:03:12,430 --> 00:03:13,150
You do.

86
00:03:13,150 --> 00:03:13,490
JAKE ARCHIBALD: OK.

87
00:03:13,490 --> 00:03:14,060
Maybe I do.

88
00:03:14,060 --> 00:03:15,570
But I've been told that--

89
00:03:15,570 --> 00:03:17,000
PAUL KINLAN: He's worried,
by the way.

90
00:03:17,000 --> 00:03:19,150
JAKE ARCHIBALD: --I'm really
not allowed to.

91
00:03:19,150 --> 00:03:22,045
And when you're told you're
not allowed--

92
00:03:22,045 --> 00:03:23,580
PAUL KINLAN: Beep.

93
00:03:23,580 --> 00:03:24,850
JAKE ARCHIBALD: --my brain's
like the back of a

94
00:03:24,850 --> 00:03:26,330
teenager's math book.

95
00:03:26,330 --> 00:03:28,110
It's absolutely disgusting
right now.

96
00:03:28,110 --> 00:03:30,870
And when you're told you
are one syllable away

97
00:03:30,870 --> 00:03:32,350
from losing your job--

98
00:03:32,350 --> 00:03:33,810
So you're going to
help, right?

99
00:03:33,810 --> 00:03:34,280
PAUL KINLAN: Yeah.

100
00:03:34,280 --> 00:03:36,210
As I say, we've got this
preemptive beep machine.

101
00:03:36,210 --> 00:03:37,180
JAKE ARCHIBALD: So you're
going to beep.

102
00:03:37,180 --> 00:03:37,760
PAUL KINLAN: I'm
going to beep.

103
00:03:37,760 --> 00:03:39,450
We haven't got a proper one,
so I have to go beep.

104
00:03:39,450 --> 00:03:39,740
JAKE ARCHIBALD: OK.

105
00:03:39,740 --> 00:03:42,170
I get a twitch in my eye
when I'm about--

106
00:03:42,170 --> 00:03:44,190
PAUL KINLAN: I've
been watching.

107
00:03:44,190 --> 00:03:46,050
JAKE ARCHIBALD: --to
drop a word bomb.

108
00:03:46,050 --> 00:03:49,280
So watch out for that.

109
00:03:49,280 --> 00:03:50,110
PAUL KINLAN: On that note--

110
00:03:50,110 --> 00:03:53,400
JAKE ARCHIBALD: Actually,
shut the fridge door.

111
00:03:53,400 --> 00:03:54,350
See?

112
00:03:54,350 --> 00:03:56,740
I thought I would let
you in there.

113
00:03:56,740 --> 00:03:57,990
That was a test.

114
00:03:57,990 --> 00:03:59,850
I wasn't actually
going to swear.

115
00:03:59,850 --> 00:04:00,210
PAUL KINLAN: Dude, I know.

116
00:04:00,210 --> 00:04:02,060
JAKE ARCHIBALD: But
you missed.

117
00:04:02,060 --> 00:04:03,640
I thought you were going
to be here for me.

118
00:04:03,640 --> 00:04:05,170
PAUL KINLAN: I'm going to be
preemptive when I know you are

119
00:04:05,170 --> 00:04:05,750
going to do it.

120
00:04:05,750 --> 00:04:07,610
And I knew you weren't
going to do it, so I

121
00:04:07,610 --> 00:04:08,440
wasn't going to do it.

122
00:04:08,440 --> 00:04:09,100
JAKE ARCHIBALD: Well,
we'll see.

123
00:04:09,100 --> 00:04:11,640
We'll see if I've got a job
at the end of this.

124
00:04:11,640 --> 00:04:15,730
Let's take a look
at an example.

125
00:04:15,730 --> 00:04:17,610
All that stuff I was saying
before about mobiles not being

126
00:04:17,610 --> 00:04:19,490
special, we're going to look
at a case where they are

127
00:04:19,490 --> 00:04:21,230
special just to prove
myself wrong.

128
00:04:21,230 --> 00:04:25,070
So if we can take a look at
what's on my desktop machine

129
00:04:25,070 --> 00:04:27,600
and look at the first
demo we have here--

130
00:04:27,600 --> 00:04:29,750
PAUL KINLAN: Can I just say
before we start, we have a

131
00:04:29,750 --> 00:04:33,400
Moderator where people can
actually ask questions.

132
00:04:33,400 --> 00:04:34,950
We should have the link
on the screen

133
00:04:34,950 --> 00:04:37,420
somewhere at the bottom.

134
00:04:37,420 --> 00:04:37,810
Yeah.

135
00:04:37,810 --> 00:04:39,940
So you can go and ask us
questions, and we'll answer

136
00:04:39,940 --> 00:04:41,880
them at the end of the show.

137
00:04:41,880 --> 00:04:42,770
JAKE ARCHIBALD: Yeah.

138
00:04:42,770 --> 00:04:43,550
PAUL KINLAN: Yeah.

139
00:04:43,550 --> 00:04:44,280
JAKE ARCHIBALD: Let's do that.

140
00:04:44,280 --> 00:04:46,410
PAUL KINLAN: So shall we get
doing what you're going to do?

141
00:04:46,410 --> 00:04:46,600
JAKE ARCHIBALD: Yeah.

142
00:04:46,600 --> 00:04:49,120
So I'm in JSbin for
our first demo.

143
00:04:49,120 --> 00:04:51,760
So what we have here
is a series of devs

144
00:04:51,760 --> 00:04:53,090
all of the same class.

145
00:04:53,090 --> 00:04:54,840
It's a really dumb
and simple demo.

146
00:04:54,840 --> 00:04:57,300
And the JavaScript here, all
that's going to do is it's

147
00:04:57,300 --> 00:04:58,720
going to loop through all
of those elements.

148
00:04:58,720 --> 00:05:00,870
It's going to give
them a hue value.

149
00:05:00,870 --> 00:05:05,160
It's going to cycle through all
360 and create this kind

150
00:05:05,160 --> 00:05:06,580
of rainbow effect here.

151
00:05:06,580 --> 00:05:10,720
Now when you click on them using
ClickListener here, it's

152
00:05:10,720 --> 00:05:13,210
going to swap that to the
opposite side of the hue.

153
00:05:13,210 --> 00:05:17,280
So what we get is click,
click, click,

154
00:05:17,280 --> 00:05:18,630
and it will go back.

155
00:05:18,630 --> 00:05:20,860
So that's how it works
on desktop.

156
00:05:20,860 --> 00:05:21,730
It's really fast.

157
00:05:21,730 --> 00:05:23,850
But let's have a look at
how it works on mobile.

158
00:05:23,850 --> 00:05:26,790
So if we can switch to
the mobile view--

159
00:05:26,790 --> 00:05:29,910
This is running on
a Nexus 7, but it

160
00:05:29,910 --> 00:05:32,850
runs the same on phones.

161
00:05:32,850 --> 00:05:33,600
So here it is.

162
00:05:33,600 --> 00:05:35,400
As you can see, it's
scrolling.

163
00:05:35,400 --> 00:05:36,680
We get pinch zoom.

164
00:05:36,680 --> 00:05:37,560
That's fine.

165
00:05:37,560 --> 00:05:41,730
And I tap on it, and
it changes color.

166
00:05:41,730 --> 00:05:43,410
But it's really, really slow.

167
00:05:43,410 --> 00:05:46,520
And I was saying before that
mobiles are not as fast as

168
00:05:46,520 --> 00:05:48,930
desktop machines, but they're
not that slow.

169
00:05:48,930 --> 00:05:53,620
Painting a rectangle different
colors is not really a task

170
00:05:53,620 --> 00:05:55,630
any device should
struggle with

171
00:05:55,630 --> 00:05:59,390
So what's happening here is
click events actually run with

172
00:05:59,390 --> 00:06:02,030
a 300 millisecond
delay on mobile.

173
00:06:02,030 --> 00:06:04,305
Now I'll show you why
that happens.

174
00:06:04,305 --> 00:06:08,020
If we have a look at
Google Moderator--

175
00:06:08,020 --> 00:06:11,120
Google Moderator is a site that
isn't really optimized

176
00:06:11,120 --> 00:06:16,380
well for mobile, so no points
to us there for that--

177
00:06:16,380 --> 00:06:20,430
Apple came up with this
interaction where they would

178
00:06:20,430 --> 00:06:22,320
start with the screen
zoomed out.

179
00:06:22,320 --> 00:06:24,440
And if you wanted to zoom in to
a part of it, you could use

180
00:06:24,440 --> 00:06:26,250
a pinch zoom, but you
could also do this.

181
00:06:26,250 --> 00:06:27,650
You could double-tap.

182
00:06:27,650 --> 00:06:28,890
You could double-tap it.

183
00:06:28,890 --> 00:06:30,620
It zooms in.

184
00:06:30,620 --> 00:06:33,800
And all of the others mobile
devices have copied that.

185
00:06:33,800 --> 00:06:34,800
And this is our problem.

186
00:06:34,800 --> 00:06:37,610
Because how do we know if you're
going to double-tap

187
00:06:37,610 --> 00:06:38,590
when you tap?

188
00:06:38,590 --> 00:06:41,260
Well, the only way we can do
that is by just having a

189
00:06:41,260 --> 00:06:43,430
little wait and seeing
what you do next.

190
00:06:43,430 --> 00:06:45,230
And if you don't tap again,
that's not a double-tap.

191
00:06:45,230 --> 00:06:48,660

192
00:06:48,660 --> 00:06:51,570
It's said that if you want
something to seem instant it

193
00:06:51,570 --> 00:06:54,960
has to happen within 100
milliseconds of the user

194
00:06:54,960 --> 00:06:56,200
clicking the thing.

195
00:06:56,200 --> 00:06:59,790
And with 300 milliseconds added
to start of that, you're

196
00:06:59,790 --> 00:07:02,500
three times over budget
before you've run any

197
00:07:02,500 --> 00:07:05,380
JavaScript at all.

198
00:07:05,380 --> 00:07:09,510
But we can use JavaScript
to work around that.

199
00:07:09,510 --> 00:07:11,650
PAUL KINLAN: I know some of the
guys who are working on

200
00:07:11,650 --> 00:07:13,500
the touch side of things are
trying to improve this even

201
00:07:13,500 --> 00:07:15,070
for normal viewports.

202
00:07:15,070 --> 00:07:17,870
Because if you can detect that
you're at full zoom, for

203
00:07:17,870 --> 00:07:19,660
instance, then you're not
going to try and do the

204
00:07:19,660 --> 00:07:20,695
double-tap in.

205
00:07:20,695 --> 00:07:21,070
JAKE ARCHIBALD: Yep.

206
00:07:21,070 --> 00:07:22,980
PAUL KINLAN: And there's
questions about whether we can

207
00:07:22,980 --> 00:07:25,910
optimize that experience so that
we don't have to actually

208
00:07:25,910 --> 00:07:27,726
have a viewport if you don't
want to have a viewport, and

209
00:07:27,726 --> 00:07:28,190
all this type stuff.

210
00:07:28,190 --> 00:07:28,530
JAKE ARCHIBALD: Yeah.

211
00:07:28,530 --> 00:07:30,990
And if there's anything else you
want to spoil ahead of me

212
00:07:30,990 --> 00:07:31,710
getting around to it--

213
00:07:31,710 --> 00:07:32,320
PAUL KINLAN: Am I
spoiling things?

214
00:07:32,320 --> 00:07:33,050
JAKE ARCHIBALD: --that's fine.

215
00:07:33,050 --> 00:07:33,540
Tell you what--

216
00:07:33,540 --> 00:07:34,710
PAUL KINLAN: You've got all
the lines down here.

217
00:07:34,710 --> 00:07:36,480
JAKE ARCHIBALD: --I could leave
if you just want to read

218
00:07:36,480 --> 00:07:37,320
from my notes.

219
00:07:37,320 --> 00:07:37,880
That's fine.

220
00:07:37,880 --> 00:07:38,440
PAUL KINLAN: Well, there's
something about the FT

221
00:07:38,440 --> 00:07:38,790
[INAUDIBLE].

222
00:07:38,790 --> 00:07:43,180
JAKE ARCHIBALD: No, don't
talk about the FT.

223
00:07:43,180 --> 00:07:44,430
PAUL KINLAN: You told
me to read ahead.

224
00:07:44,430 --> 00:07:47,370
JAKE ARCHIBALD: You nearly
made me do one of those

225
00:07:47,370 --> 00:07:49,700
job-ending noises.

226
00:07:49,700 --> 00:07:51,530
OK.

227
00:07:51,530 --> 00:07:53,840
Actually, let's take a look at
the desktop machine, and I can

228
00:07:53,840 --> 00:07:56,630
show the code for this one.

229
00:07:56,630 --> 00:07:59,360
It's number three.

230
00:07:59,360 --> 00:08:00,740
So this code looks exactly--

231
00:08:00,740 --> 00:08:01,310
PAUL KINLAN: That's
a nice code.

232
00:08:01,310 --> 00:08:01,500
JAKE ARCHIBALD: --the same.

233
00:08:01,500 --> 00:08:02,160
It's a lovely code.

234
00:08:02,160 --> 00:08:03,040
It's my favorite.

235
00:08:03,040 --> 00:08:05,800
I spent at least a few minutes
writing it yesterday.

236
00:08:05,800 --> 00:08:06,790
So here's the difference.

237
00:08:06,790 --> 00:08:08,510
This one isn't click.

238
00:08:08,510 --> 00:08:10,080
It's touchend.

239
00:08:10,080 --> 00:08:11,880
So it's using a touch event.

240
00:08:11,880 --> 00:08:13,860
It doesn't work on
the desktop.

241
00:08:13,860 --> 00:08:15,860
You would have to add a click
event in as well.

242
00:08:15,860 --> 00:08:19,330
If we can switch to the phone,
you can see the difference it

243
00:08:19,330 --> 00:08:20,120
makes here.

244
00:08:20,120 --> 00:08:22,310
So I can scroll around
the page.

245
00:08:22,310 --> 00:08:24,720
And if I tap, it changes.

246
00:08:24,720 --> 00:08:28,450
And as you see, it's happening
instantly.

247
00:08:28,450 --> 00:08:31,530
So we've got a real performance
boost out of that.

248
00:08:31,530 --> 00:08:34,600
This is on Chrome for Android.

249
00:08:34,600 --> 00:08:35,679
We'll take a look at
the same thing

250
00:08:35,679 --> 00:08:39,840
running in another browser.

251
00:08:39,840 --> 00:08:44,400
I should point out this
is not my Nexus.

252
00:08:44,400 --> 00:08:47,820
I'm not a fitness fanatic, and
I wasn't planning on having a

253
00:08:47,820 --> 00:08:51,630
nipple slip this early on
in the presentation.

254
00:08:51,630 --> 00:08:52,570
PAUL KINLAN: It's my Nexus.

255
00:08:52,570 --> 00:08:53,810
JAKE ARCHIBALD: Is
that your Nexus?

256
00:08:53,810 --> 00:08:54,640
PAUL KINLAN: It's my test one.

257
00:08:54,640 --> 00:08:57,700
JAKE ARCHIBALD: I'm just going
to grab him by the nipple and

258
00:08:57,700 --> 00:08:59,236
fling him away.

259
00:08:59,236 --> 00:09:00,090
Excellent.

260
00:09:00,090 --> 00:09:04,310
So let's go into Firefox, and
let's have a look at the same

261
00:09:04,310 --> 00:09:05,230
URL and site.

262
00:09:05,230 --> 00:09:06,790
In fact, do I have
it prepared?

263
00:09:06,790 --> 00:09:08,250
Oh, that's lovely.

264
00:09:08,250 --> 00:09:09,460
So this is the same thing.

265
00:09:09,460 --> 00:09:10,900
We're using the touch event.

266
00:09:10,900 --> 00:09:14,820
And so if I tap, it works.

267
00:09:14,820 --> 00:09:18,790
But as I scroll, when I let
go it still getting

268
00:09:18,790 --> 00:09:20,820
that touch end event.

269
00:09:20,820 --> 00:09:23,050
And this is not Firefox
doing it wrong.

270
00:09:23,050 --> 00:09:27,810
In fact, the default old Android
browser does the same.

271
00:09:27,810 --> 00:09:29,310
iOS Safari does the same.

272
00:09:29,310 --> 00:09:31,990
In fact, Chrome's kind of the
one doing it different.

273
00:09:31,990 --> 00:09:35,405
And it's not going
against the spec.

274
00:09:35,405 --> 00:09:37,200
It's just unspeced behavior.

275
00:09:37,200 --> 00:09:41,920
It doesn't say whether a touch
sequence should be cancelled

276
00:09:41,920 --> 00:09:43,296
if a scroll starts.

277
00:09:43,296 --> 00:09:45,260
PAUL KINLAN: Does it happen
in Safari as well?

278
00:09:45,260 --> 00:09:46,880
JAKE ARCHIBALD: Yes,
in Safari on iOS.

279
00:09:46,880 --> 00:09:48,070
Yeah.

280
00:09:48,070 --> 00:09:49,600
PAUL KINLAN: Does it match
Chrome's behavior, or does it

281
00:09:49,600 --> 00:09:50,290
match Firefox's?

282
00:09:50,290 --> 00:09:51,380
JAKE ARCHIBALD: It matches
Firefox's behavior.

283
00:09:51,380 --> 00:09:52,830
PAUL KINLAN: It's actually
something that we're doing

284
00:09:52,830 --> 00:09:54,010
inside the browser ourselves.

285
00:09:54,010 --> 00:09:55,330
JAKE ARCHIBALD: Yeah.

286
00:09:55,330 --> 00:09:56,800
Chrome is the exception.

287
00:09:56,800 --> 00:09:59,480
By doing what I would
say would be to the

288
00:09:59,480 --> 00:10:01,300
right thing to do--

289
00:10:01,300 --> 00:10:05,435
Once you've started doing a
scroll, then I don't want to

290
00:10:05,435 --> 00:10:08,460
hear about the touch, because
the browser's taken over

291
00:10:08,460 --> 00:10:10,880
handling touch events.

292
00:10:10,880 --> 00:10:14,090
But yeah, no one's actually
breaking the spec.

293
00:10:14,090 --> 00:10:16,720
It's unspecified behavior.

294
00:10:16,720 --> 00:10:19,120
We do have a fix for this
in the form of the

295
00:10:19,120 --> 00:10:21,055
Pointer Events spec.

296
00:10:21,055 --> 00:10:21,500
PAUL KINLAN: Yeah.

297
00:10:21,500 --> 00:10:22,040
JAKE ARCHIBALD: Yeah.

298
00:10:22,040 --> 00:10:24,475
It's something Microsoft came
up with and is now being

299
00:10:24,475 --> 00:10:25,590
worked through w3.

300
00:10:25,590 --> 00:10:26,980
And that explicitly says--

301
00:10:26,980 --> 00:10:29,670
and we'll include
a link to this--

302
00:10:29,670 --> 00:10:35,300
that if you do a zoom or a pan
or a scroll then you get touch

303
00:10:35,300 --> 00:10:38,070
cancel events, and you
won't get a touchend

304
00:10:38,070 --> 00:10:39,310
or a pointer end.

305
00:10:39,310 --> 00:10:41,690
It's not touch.

306
00:10:41,690 --> 00:10:44,460
So that's something for the
future, but it's doesn't

307
00:10:44,460 --> 00:10:46,770
really help us now,
unfortunately.

308
00:10:46,770 --> 00:10:49,800
And I think we're much more
concerned with now.

309
00:10:49,800 --> 00:10:50,995
PAUL KINLAN: So do you know if
there's many sites that are

310
00:10:50,995 --> 00:10:51,950
using touchend for this?

311
00:10:51,950 --> 00:10:53,700
Is it mainly--?

312
00:10:53,700 --> 00:10:54,170
JAKE ARCHIBALD: No.

313
00:10:54,170 --> 00:10:57,510
Because most people find out
that it's going to cause that

314
00:10:57,510 --> 00:10:58,300
kind of problem.

315
00:10:58,300 --> 00:11:02,300
We do get some problems with
sites where they've got an

316
00:11:02,300 --> 00:11:04,390
instance of Google Maps
halfway down the page.

317
00:11:04,390 --> 00:11:07,840
If you've got that full width,
someone will be scrolling down

318
00:11:07,840 --> 00:11:10,400
the page, and then they'll
hit their finger on

319
00:11:10,400 --> 00:11:11,230
the Google Maps bit.

320
00:11:11,230 --> 00:11:13,270
And now all their touch events
are going into Google Maps.

321
00:11:13,270 --> 00:11:15,790
It's not a very good
experience.

322
00:11:15,790 --> 00:11:16,960
PAUL KINLAN: So I do have
one question for you.

323
00:11:16,960 --> 00:11:17,410
JAKE ARCHIBALD: Go for it.

324
00:11:17,410 --> 00:11:19,745
PAUL KINLAN: If you have a
touchstart on the same range

325
00:11:19,745 --> 00:11:22,320
of elements that you're
in there, does the

326
00:11:22,320 --> 00:11:23,570
behavior match Firefox?

327
00:11:23,570 --> 00:11:26,340

328
00:11:26,340 --> 00:11:27,550
Because it feels like if you're
that you've got a

329
00:11:27,550 --> 00:11:28,690
touchstart events
you'd definitely

330
00:11:28,690 --> 00:11:30,250
want a touchend event.

331
00:11:30,250 --> 00:11:32,570
JAKE ARCHIBALD: If you have
a touchstart event and you

332
00:11:32,570 --> 00:11:35,910
cancel it using
event.preventdefault, then

333
00:11:35,910 --> 00:11:37,970
it's saying that you are
now in charge of

334
00:11:37,970 --> 00:11:39,250
all of those events.

335
00:11:39,250 --> 00:11:42,830
So you will get the
entire sequence.

336
00:11:42,830 --> 00:11:45,490
There is another way
we can fix this.

337
00:11:45,490 --> 00:11:47,700
So let's go back
to the desktop.

338
00:11:47,700 --> 00:11:50,140
PAUL KINLAN: Is this what I
ruined before, by any chance?

339
00:11:50,140 --> 00:11:50,730
No?

340
00:11:50,730 --> 00:11:51,430
JAKE ARCHIBALD: Yes.

341
00:11:51,430 --> 00:11:51,940
Yes, it is.

342
00:11:51,940 --> 00:11:52,430
PAUL KINLAN: Oh, OK.

343
00:11:52,430 --> 00:11:52,520
JAKE ARCHIBALD: Yes.

344
00:11:52,520 --> 00:11:54,630
This is the one you ruined.

345
00:11:54,630 --> 00:11:57,040
Let's have a look
at number four.

346
00:11:57,040 --> 00:12:00,930
So this is going to
go back to click.

347
00:12:00,930 --> 00:12:02,080
So yeah, we've got that.

348
00:12:02,080 --> 00:12:02,880
Click back there.

349
00:12:02,880 --> 00:12:05,230
But in the HTML we have
a difference.

350
00:12:05,230 --> 00:12:09,180
We've got this meta viewport
here, but it's fixed.

351
00:12:09,180 --> 00:12:12,980
So I'm not going to be
able to pinch zoom.

352
00:12:12,980 --> 00:12:16,820
So let's go back to
the mobile view.

353
00:12:16,820 --> 00:12:20,935
I'm going to go to number six.

354
00:12:20,935 --> 00:12:22,920
I'm not as dexterous
at this distance.

355
00:12:22,920 --> 00:12:25,740
Tell you what, let me just pick
it from the link here.

356
00:12:25,740 --> 00:12:27,200
So we're going for fixed.

357
00:12:27,200 --> 00:12:27,920
PAUL KINLAN: Preparation?

358
00:12:27,920 --> 00:12:28,920
JAKE ARCHIBALD: It's brilliant,
isn't it?

359
00:12:28,920 --> 00:12:29,390
All right.

360
00:12:29,390 --> 00:12:30,350
There we go.

361
00:12:30,350 --> 00:12:32,345
So I can't pinch zoom
the viewport.

362
00:12:32,345 --> 00:12:34,740
It's fixed.

363
00:12:34,740 --> 00:12:36,820
But the taps or click, even
just using the click event

364
00:12:36,820 --> 00:12:39,490
which was slow before,
it's now fast.

365
00:12:39,490 --> 00:12:43,190
And that's because we know as
a browser double-tap has no

366
00:12:43,190 --> 00:12:44,080
meaning here.

367
00:12:44,080 --> 00:12:45,680
So we don't have to wait
around for it.

368
00:12:45,680 --> 00:12:46,800
We can take the fast path.

369
00:12:46,800 --> 00:12:48,190
PAUL KINLAN: There's a film
called "Double Tap."

370
00:12:48,190 --> 00:12:48,980
JAKE ARCHIBALD: I've
never seen it.

371
00:12:48,980 --> 00:12:49,660
PAUL KINLAN: It was rubbish.

372
00:12:49,660 --> 00:12:50,910
JAKE ARCHIBALD: OK.

373
00:12:50,910 --> 00:12:52,880

374
00:12:52,880 --> 00:12:54,070
So we do this.

375
00:12:54,070 --> 00:12:56,880
This is something that Chrome
for Android does.

376
00:12:56,880 --> 00:12:58,530
Firefox does it as well.

377
00:12:58,530 --> 00:13:01,680
Unfortunately the other
browsers, including--

378
00:13:01,680 --> 00:13:03,820
PAUL KINLAN: I think we've just
done an article in HTML5

379
00:13:03,820 --> 00:13:06,470
Rocks about the interaction
between touch and click.

380
00:13:06,470 --> 00:13:08,440
And that's one of the bits of
research that we did where we

381
00:13:08,440 --> 00:13:13,190
were testing which browsers when
you had a viewport set

382
00:13:13,190 --> 00:13:16,170
the ability just to have
straight through.

383
00:13:16,170 --> 00:13:16,440
JAKE ARCHIBALD: Yeah.

384
00:13:16,440 --> 00:13:18,350
And as you were saying, this
is one of the things that

385
00:13:18,350 --> 00:13:19,760
we're looking at.

386
00:13:19,760 --> 00:13:23,210
Because having a fixed
viewport is OK.

387
00:13:23,210 --> 00:13:27,230
But it can be nice a nice
accessibility feature you get

388
00:13:27,230 --> 00:13:30,200
for free in the browser to
be able to pinch zoom in.

389
00:13:30,200 --> 00:13:31,670
So it's worth keeping.

390
00:13:31,670 --> 00:13:33,730
So we're looking at ways--
there's a ticket.

391
00:13:33,730 --> 00:13:37,290
We'll post a link to that--
where we're discussing in what

392
00:13:37,290 --> 00:13:41,330
cases can we decide the user's
not going to do a double-tap

393
00:13:41,330 --> 00:13:43,040
here, so we don't have
to wait for it.

394
00:13:43,040 --> 00:13:43,184
PAUL KINLAN: Yeah.

395
00:13:43,184 --> 00:13:43,520
That's right.

396
00:13:43,520 --> 00:13:46,440
So I think on the performance
side this doesn't necessarily

397
00:13:46,440 --> 00:13:47,930
seem performance related.

398
00:13:47,930 --> 00:13:48,940
But it is, right?

399
00:13:48,940 --> 00:13:51,730
It's the first thing that people
encounter when they're

400
00:13:51,730 --> 00:13:55,525
trying to build applications
and sites on mobile.

401
00:13:55,525 --> 00:13:57,100
JAKE ARCHIBALD: Yeah.

402
00:13:57,100 --> 00:13:58,170
PAUL KINLAN: This is the
slow bit, right?

403
00:13:58,170 --> 00:14:00,450
It's not slow because the
hardware can't handle it.

404
00:14:00,450 --> 00:14:02,260
It's just slow because of the
way we programmed it, right?

405
00:14:02,260 --> 00:14:02,800
JAKE ARCHIBALD: Yeah.

406
00:14:02,800 --> 00:14:06,570
If you told the network guys
we have a trick that will

407
00:14:06,570 --> 00:14:12,460
shave 300 milliseconds off the
delivery time, they would jump

408
00:14:12,460 --> 00:14:13,505
all over you to get it.

409
00:14:13,505 --> 00:14:18,280
And here we are in mobile with
every click taking that long.

410
00:14:18,280 --> 00:14:20,650
And this is not just
a JavaScript issue.

411
00:14:20,650 --> 00:14:22,570
These examples have all been
JavaScript, but even just a

412
00:14:22,570 --> 00:14:25,110
link on a page is going to
have that 300 millisecond

413
00:14:25,110 --> 00:14:27,980
delay unless you're using
a fixed viewport.

414
00:14:27,980 --> 00:14:31,560
There is a workaround
that works today.

415
00:14:31,560 --> 00:14:32,360
PAUL KINLAN: Is this
the bit now?

416
00:14:32,360 --> 00:14:33,625
JAKE ARCHIBALD: This
is the FT bit.

417
00:14:33,625 --> 00:14:34,100
PAUL KINLAN: Yes.

418
00:14:34,100 --> 00:14:35,120
JAKE ARCHIBALD: Actually,
you haven't spoiled

419
00:14:35,120 --> 00:14:36,330
anything after that.

420
00:14:36,330 --> 00:14:37,730
PAUL KINLAN: Well, I can see all
the rest of your script.

421
00:14:37,730 --> 00:14:38,580
JAKE ARCHIBALD: Yeah, OK.

422
00:14:38,580 --> 00:14:39,750
Well, we're getting to
the end of this page.

423
00:14:39,750 --> 00:14:39,880
PAUL KINLAN: Yeah.

424
00:14:39,880 --> 00:14:41,250
It might ruin your next
joke, by the way.

425
00:14:41,250 --> 00:14:43,066
JAKE ARCHIBALD: Oh, great.

426
00:14:43,066 --> 00:14:46,290
I nearly did a swear again.

427
00:14:46,290 --> 00:14:46,810
OK.

428
00:14:46,810 --> 00:14:48,260
Let's have a look
on the mobile.

429
00:14:48,260 --> 00:14:54,080
I'm going to switch
over to fastclick.

430
00:14:54,080 --> 00:14:59,100
So this is using a zoomable
viewport, and it's really,

431
00:14:59,100 --> 00:15:00,160
really fast.

432
00:15:00,160 --> 00:15:02,240
So I'll show you what's
happening on the desktop

433
00:15:02,240 --> 00:15:06,620
machine, if we switch
over to that.

434
00:15:06,620 --> 00:15:11,160
So this is using a bit of drop
in JavaScript from the FT.

435
00:15:11,160 --> 00:15:13,450
And if I switch into
the Edit view--

436
00:15:13,450 --> 00:15:16,240

437
00:15:16,240 --> 00:15:16,770
Excellent.

438
00:15:16,770 --> 00:15:21,220
So the difference here is I'm
dumping in a fastclick, which

439
00:15:21,220 --> 00:15:22,320
is a script written by the FT.

440
00:15:22,320 --> 00:15:25,060
We'll put a link to
their GitHub page.

441
00:15:25,060 --> 00:15:29,460
And in JavaScript
it's right here.

442
00:15:29,460 --> 00:15:31,610
This is just this one line
saying I want fastclick to

443
00:15:31,610 --> 00:15:32,630
work for the body.

444
00:15:32,630 --> 00:15:35,910
And what they do is they're
just going to use the

445
00:15:35,910 --> 00:15:41,370
touchstart to touchend events,
but when you let go they're

446
00:15:41,370 --> 00:15:43,590
going to look how far
you traveled while

447
00:15:43,590 --> 00:15:44,110
you were doing that.

448
00:15:44,110 --> 00:15:46,260
And if you've traveled over a
certain distance, they'll go,

449
00:15:46,260 --> 00:15:47,990
ah, that's not a tap
really, is it?

450
00:15:47,990 --> 00:15:49,160
That's not a click.

451
00:15:49,160 --> 00:15:51,520
You were doing a scroll or some
other kind of gesture.

452
00:15:51,520 --> 00:15:53,820
And it's a large script.

453
00:15:53,820 --> 00:15:56,820
There's a lot of edge cases,
a lot of browser bugs that

454
00:15:56,820 --> 00:15:57,950
they've worked around.

455
00:15:57,950 --> 00:16:01,860
So I'm sure they'd agree the
quicker we can kill that

456
00:16:01,860 --> 00:16:03,075
script, the better.

457
00:16:03,075 --> 00:16:05,980
As soon as we can get all
browsers up to date or have a

458
00:16:05,980 --> 00:16:07,740
way that we can work
around this--

459
00:16:07,740 --> 00:16:08,820
this click delay thing--

460
00:16:08,820 --> 00:16:09,340
the better.

461
00:16:09,340 --> 00:16:13,960
But it's really the best we've
got at the moment.

462
00:16:13,960 --> 00:16:14,270
PAUL KINLAN: Cool.

463
00:16:14,270 --> 00:16:15,280
I think that's touch.

464
00:16:15,280 --> 00:16:17,810
Ah, well, we can deal with the
touch questions when we get

465
00:16:17,810 --> 00:16:19,370
them in the Moderator.

466
00:16:19,370 --> 00:16:21,170
So we want to pull up the link
for the Moderator again, just

467
00:16:21,170 --> 00:16:23,920
so if you want to ask questions
there it is.

468
00:16:23,920 --> 00:16:25,050
JAKE ARCHIBALD: That was good.

469
00:16:25,050 --> 00:16:26,170
PAUL KINLAN: Was
it timed well?

470
00:16:26,170 --> 00:16:28,730
JAKE ARCHIBALD: That was
a real TV thing.

471
00:16:28,730 --> 00:16:29,350
Pow.

472
00:16:29,350 --> 00:16:30,790
PAUL KINLAN: I want to be
like that guy on YouTube

473
00:16:30,790 --> 00:16:32,960
that you showed me.

474
00:16:32,960 --> 00:16:33,630
JAKE ARCHIBALD: Excellent.

475
00:16:33,630 --> 00:16:34,890
We'll put a link to
that as well.

476
00:16:34,890 --> 00:16:35,230
PAUL KINLAN: Yeah.

477
00:16:35,230 --> 00:16:35,695
We should do, actually.

478
00:16:35,695 --> 00:16:37,130
It's pretty good.

479
00:16:37,130 --> 00:16:37,410
Yeah.

480
00:16:37,410 --> 00:16:39,060
So do you want to go on
to your next bit--

481
00:16:39,060 --> 00:16:39,640
JAKE ARCHIBALD: Yeah.

482
00:16:39,640 --> 00:16:41,770
PAUL KINLAN: --bearing in mind
that we haven't got a huge

483
00:16:41,770 --> 00:16:42,650
amount of time left.

484
00:16:42,650 --> 00:16:42,970
JAKE ARCHIBALD: We don't?

485
00:16:42,970 --> 00:16:44,040
Or we do?

486
00:16:44,040 --> 00:16:44,640
PAUL KINLAN: Not really.

487
00:16:44,640 --> 00:16:44,980
JAKE ARCHIBALD: Not really.

488
00:16:44,980 --> 00:16:45,680
PAUL KINLAN: You can go over.

489
00:16:45,680 --> 00:16:46,600
JAKE ARCHIBALD: Ah,
we can go over.

490
00:16:46,600 --> 00:16:47,420
PAUL KINLAN: It's not
like proper TV.

491
00:16:47,420 --> 00:16:48,045
JAKE ARCHIBALD: I'm
having good fun.

492
00:16:48,045 --> 00:16:48,910
Are you having fun?

493
00:16:48,910 --> 00:16:49,780
I'm having fun.

494
00:16:49,780 --> 00:16:50,470
Are you having fun?

495
00:16:50,470 --> 00:16:51,550
PAUL KINLAN: Moderator
says no.

496
00:16:51,550 --> 00:16:52,450
JAKE ARCHIBALD: Ah.

497
00:16:52,450 --> 00:16:53,590
Oh, dear.

498
00:16:53,590 --> 00:16:54,640
PAUL KINLAN: Someone did say,
did you just swear?

499
00:16:54,640 --> 00:16:56,450
Or was that a nipple
I just saw?

500
00:16:56,450 --> 00:16:58,140
JAKE ARCHIBALD: There
was a nipple.

501
00:16:58,140 --> 00:17:00,090
There wasn't a swear, though,
so I still keep my job.

502
00:17:00,090 --> 00:17:02,690
That's what's important.

503
00:17:02,690 --> 00:17:07,650
So let's have a look at our
graphical performance demo.

504
00:17:07,650 --> 00:17:09,390
So if we could bring
up the desktop,

505
00:17:09,390 --> 00:17:11,378
if we haven't already.

506
00:17:11,378 --> 00:17:14,004
PAUL KINLAN: You forgot
to [CLICKS FINGERS].

507
00:17:14,004 --> 00:17:14,900
JAKE ARCHIBALD: There we go.

508
00:17:14,900 --> 00:17:15,980
OK.

509
00:17:15,980 --> 00:17:17,730
I'm going to reset that.

510
00:17:17,730 --> 00:17:21,319
This is snakes on a
geometric plane.

511
00:17:21,319 --> 00:17:21,839
PAUL KINLAN: I like that.

512
00:17:21,839 --> 00:17:22,640
JAKE ARCHIBALD: It's
good, isn't it?

513
00:17:22,640 --> 00:17:22,900
PAUL KINLAN: Yeah.

514
00:17:22,900 --> 00:17:25,950
JAKE ARCHIBALD: I'm very, very
pleased with myself.

515
00:17:25,950 --> 00:17:28,000
So as you see, these things
are moving around.

516
00:17:28,000 --> 00:17:31,340
And we're moving around
using a CSS animation.

517
00:17:31,340 --> 00:17:34,702
I'll go into the Edit
screen for this.

518
00:17:34,702 --> 00:17:35,160
Yeah.

519
00:17:35,160 --> 00:17:37,880
So this is the automation
it's using right here.

520
00:17:37,880 --> 00:17:39,370
Let's bump up the size
of it there.

521
00:17:39,370 --> 00:17:42,300

522
00:17:42,300 --> 00:17:44,712
So it's just going around the
top and the left, and it's

523
00:17:44,712 --> 00:17:46,260
going to animate around.

524
00:17:46,260 --> 00:17:52,430
So the performance isn't so
good, even on desktop.

525
00:17:52,430 --> 00:17:55,000
So let's take a look
at it full screen.

526
00:17:55,000 --> 00:17:57,450
I'm going to bring up
Chrome's devtools.

527
00:17:57,450 --> 00:18:00,620
Actually, let's do that now.

528
00:18:00,620 --> 00:18:04,200

529
00:18:04,200 --> 00:18:07,080
So let's bump up the
size there as well.

530
00:18:07,080 --> 00:18:08,460
So I can run this.

531
00:18:08,460 --> 00:18:10,150
This is the timeline.

532
00:18:10,150 --> 00:18:12,570
And what happens here if
I start recording--

533
00:18:12,570 --> 00:18:13,950
PAUL KINLAN: I'm going to say
one thing in a second about

534
00:18:13,950 --> 00:18:16,530
the timeline is that not enough
people use it, and not

535
00:18:16,530 --> 00:18:18,425
enough people know about it.

536
00:18:18,425 --> 00:18:19,400
JAKE ARCHIBALD: It's the
best thing we've

537
00:18:19,400 --> 00:18:20,040
added to the Tools.

538
00:18:20,040 --> 00:18:21,600
PAUL KINLAN: Everyone seems to
go to the Heap Profiler and

539
00:18:21,600 --> 00:18:22,380
the CPU Profiler.

540
00:18:22,380 --> 00:18:23,070
JAKE ARCHIBALD: Don't do that.

541
00:18:23,070 --> 00:18:23,580
It's rubbish.

542
00:18:23,580 --> 00:18:25,090
PAUL KINLAN: Yeah.

543
00:18:25,090 --> 00:18:27,040
And Paul Lewis, one of our other
colleagues, is really

544
00:18:27,040 --> 00:18:27,900
big on this at the moment.

545
00:18:27,900 --> 00:18:29,735
He's basically saying
all the time that--

546
00:18:29,735 --> 00:18:30,915
JAKE ARCHIBALD: It's huge.

547
00:18:30,915 --> 00:18:31,340
PAUL KINLAN: Yeah.

548
00:18:31,340 --> 00:18:32,140
It's big.

549
00:18:32,140 --> 00:18:33,240
It's where it's at.

550
00:18:33,240 --> 00:18:34,840
It's got two turntables
and a microphone.

551
00:18:34,840 --> 00:18:38,550
But anyway, the actual thing
I was going to say was the

552
00:18:38,550 --> 00:18:40,870
biggest problem that we face
are at the moment around

553
00:18:40,870 --> 00:18:43,280
compositor, rendering, and
understanding when the layout

554
00:18:43,280 --> 00:18:44,780
changes inside your app.

555
00:18:44,780 --> 00:18:45,480
JAKE ARCHIBALD: Yeah.

556
00:18:45,480 --> 00:18:46,630
PAUL KINLAN: I know you're going
to talk about this now.

557
00:18:46,630 --> 00:18:47,320
JAKE ARCHIBALD: Well,
this is it.

558
00:18:47,320 --> 00:18:48,810
You see the problems
we've got here.

559
00:18:48,810 --> 00:18:50,270
PAUL KINLAN: JavaScript
Performance, deal with it when

560
00:18:50,270 --> 00:18:50,800
you get to it.

561
00:18:50,800 --> 00:18:53,110
But you can get a lot out of
this rendering performance.

562
00:18:53,110 --> 00:18:53,830
JAKE ARCHIBALD: Exactly.

563
00:18:53,830 --> 00:18:57,940
You can see the problem here
is all we've got these huge

564
00:18:57,940 --> 00:18:59,460
panes operations that
are happening.

565
00:18:59,460 --> 00:19:02,440
But let's take a look at it on
mobile, because that's what

566
00:19:02,440 --> 00:19:03,450
we're here for.

567
00:19:03,450 --> 00:19:07,380
So if we switch over to the
mobile view, I'm going to open

568
00:19:07,380 --> 00:19:07,840
the same thing.

569
00:19:07,840 --> 00:19:08,770
Here we go.

570
00:19:08,770 --> 00:19:10,570
Let's see if I can actually
click a button.

571
00:19:10,570 --> 00:19:12,575
PAUL KINLAN: So you've
prepared devtools?

572
00:19:12,575 --> 00:19:14,130
JAKE ARCHIBALD: I haven't
prepared devtools,

573
00:19:14,130 --> 00:19:14,770
but I'm going to.

574
00:19:14,770 --> 00:19:17,690
But we can see on the mobile
view that the performance, it

575
00:19:17,690 --> 00:19:20,660
was bad on desktop, but
it's just really

576
00:19:20,660 --> 00:19:21,890
suffering on mobile.

577
00:19:21,890 --> 00:19:23,860
PAUL KINLAN: And this is what we
were saying at the start is

578
00:19:23,860 --> 00:19:26,230
these devices are probably about
one tenth of the speed

579
00:19:26,230 --> 00:19:27,400
of your normal desktop
machine.

580
00:19:27,400 --> 00:19:27,920
JAKE ARCHIBALD: Yeah, yeah.

581
00:19:27,920 --> 00:19:28,540
About that.

582
00:19:28,540 --> 00:19:31,430
They're going to keep getting
faster, but they're always

583
00:19:31,430 --> 00:19:34,700
going to be behind what's
inside your much bigger

584
00:19:34,700 --> 00:19:36,240
desktop machine.

585
00:19:36,240 --> 00:19:37,940
And this is the thing.

586
00:19:37,940 --> 00:19:39,650
Compared to some laptops,
we've both got

587
00:19:39,650 --> 00:19:40,700
high density screens.

588
00:19:40,700 --> 00:19:44,920
But in the normal laptops, your
mobile devices sometimes

589
00:19:44,920 --> 00:19:46,810
have the same amount of pixels,
or near the same

590
00:19:46,810 --> 00:19:48,820
amount of pixels, but much
less hardware driving it.

591
00:19:48,820 --> 00:19:49,800
PAUL KINLAN: Yeah.

592
00:19:49,800 --> 00:19:51,040
JAKE ARCHIBALD: So I'm
going to connect

593
00:19:51,040 --> 00:19:52,350
devtools up to this.

594
00:19:52,350 --> 00:19:55,340
We're going to do a proper
session on devtools, right?

595
00:19:55,340 --> 00:19:56,310
PAUL KINLAN: We'll probably
rope Addie in

596
00:19:56,310 --> 00:19:57,110
or someone as well.

597
00:19:57,110 --> 00:19:57,390
JAKE ARCHIBALD: Yeah.

598
00:19:57,390 --> 00:19:58,480
I don't want to do that.

599
00:19:58,480 --> 00:20:02,320
So the way you activate devtools
is you connect via

600
00:20:02,320 --> 00:20:04,730
USB with your phone.

601
00:20:04,730 --> 00:20:06,430
If we can bring up the desktop
view, I'll show you.

602
00:20:06,430 --> 00:20:07,750
PAUL KINLAN: Why were you
pinged in google.com?

603
00:20:07,750 --> 00:20:09,160
Did you have network problems
earlier [INAUDIBLE]?

604
00:20:09,160 --> 00:20:10,330
JAKE ARCHIBALD: Let's
just go away.

605
00:20:10,330 --> 00:20:12,760
It wasn't that we were panicking
for about 15 minutes

606
00:20:12,760 --> 00:20:13,910
before we started.

607
00:20:13,910 --> 00:20:15,850
PAUL KINLAN: We had no network
before we started.

608
00:20:15,850 --> 00:20:18,330
And considering this
is a live show, we

609
00:20:18,330 --> 00:20:21,180
had a bit of a crisis.

610
00:20:21,180 --> 00:20:22,660
It was like an adventure.

611
00:20:22,660 --> 00:20:22,880
JAKE ARCHIBALD: Yes.

612
00:20:22,880 --> 00:20:27,760
It was exactly what I wanted for
my first time doing this.

613
00:20:27,760 --> 00:20:29,290
Nearly swore again.

614
00:20:29,290 --> 00:20:33,075
So if you want to, you put USB
debugging mode on your device.

615
00:20:33,075 --> 00:20:34,830
You connect via USB.

616
00:20:34,830 --> 00:20:37,360
We'll cover this properly
in [INAUDIBLE].

617
00:20:37,360 --> 00:20:41,210
And there's this very intuitive
command you put in.

618
00:20:41,210 --> 00:20:41,920
It's that.

619
00:20:41,920 --> 00:20:43,360
And I don't know about you,
but that was the first--

620
00:20:43,360 --> 00:20:44,050
PAUL KINLAN: You might need to
make it a little bit bigger

621
00:20:44,050 --> 00:20:45,851
for everyone, if you can.

622
00:20:45,851 --> 00:20:48,672
JAKE ARCHIBALD: Well, people
just need to look closer.

623
00:20:48,672 --> 00:20:49,695
Get closer to your screens.

624
00:20:49,695 --> 00:20:50,270
PAUL KINLAN: Manual zoom.

625
00:20:50,270 --> 00:20:51,240
Move your head closer
to the screen.

626
00:20:51,240 --> 00:20:52,530
JAKE ARCHIBALD: Exactly.

627
00:20:52,530 --> 00:20:55,010
So I don't know about you, but
that was the first word that

628
00:20:55,010 --> 00:20:56,990
came out of my mouth when
I was born, that

629
00:20:56,990 --> 00:20:58,310
adb forward tcp colon.

630
00:20:58,310 --> 00:21:01,000
PAUL KINLAN: Well, I've just
been with it for while now.

631
00:21:01,000 --> 00:21:02,350
JAKE ARCHIBALD: Am I allowed
to say colon?

632
00:21:02,350 --> 00:21:03,070
PAUL KINLAN: Colon is fine.

633
00:21:03,070 --> 00:21:03,330
JAKE ARCHIBALD: OK.

634
00:21:03,330 --> 00:21:05,510
That's good.

635
00:21:05,510 --> 00:21:07,220
And then it will say, Error.

636
00:21:07,220 --> 00:21:08,560
Device Not Found.

637
00:21:08,560 --> 00:21:12,410
And this is going to probably
cause me some grief as I start

638
00:21:12,410 --> 00:21:13,290
to do this demo.

639
00:21:13,290 --> 00:21:15,560
Let's see if it's just by
coincidence working.

640
00:21:15,560 --> 00:21:16,770
No, not at all.

641
00:21:16,770 --> 00:21:17,460
That's good.

642
00:21:17,460 --> 00:21:20,920
So what I'm going to do now
is I'm going to unplug it.

643
00:21:20,920 --> 00:21:21,966
PAUL KINLAN: Yes.

644
00:21:21,966 --> 00:21:23,820
JAKE ARCHIBALD: And then I'm
going to plug it back in, and

645
00:21:23,820 --> 00:21:25,000
I'm going to see
what that does.

646
00:21:25,000 --> 00:21:26,520
PAUL KINLAN: I have
full faith in you.

647
00:21:26,520 --> 00:21:27,140
JAKE ARCHIBALD: That's fine.

648
00:21:27,140 --> 00:21:27,940
Do you know what?

649
00:21:27,940 --> 00:21:28,660
I'm OK.

650
00:21:28,660 --> 00:21:30,210
PAUL KINLAN: I want you to
do more shows later on.

651
00:21:30,210 --> 00:21:32,750

652
00:21:32,750 --> 00:21:36,680
JAKE ARCHIBALD: I could start
crying at some point soon.

653
00:21:36,680 --> 00:21:37,590
Let's close Chrome.

654
00:21:37,590 --> 00:21:38,674
PAUL KINLAN: Did you
have Chrome up?

655
00:21:38,674 --> 00:21:39,430
JAKE ARCHIBALD: I did
have Chrome up.

656
00:21:39,430 --> 00:21:42,160
PAUL KINLAN: We'll
do ADB Devices.

657
00:21:42,160 --> 00:21:44,230
So we might as well tell
everyone what's happening now.

658
00:21:44,230 --> 00:21:47,570
So this is the you've got
no devices attached.

659
00:21:47,570 --> 00:21:50,637
So the way that you actually
connect devtools to Chrome and

660
00:21:50,637 --> 00:21:54,180
Chrome on devtools is
via the Android

661
00:21:54,180 --> 00:21:55,290
Development Kit at the moment.

662
00:21:55,290 --> 00:21:56,500
And there's a tool inside
the Android

663
00:21:56,500 --> 00:21:59,090
Development Kit called ADB.

664
00:21:59,090 --> 00:21:59,240
Cool.

665
00:21:59,240 --> 00:22:00,510
We've got it working now.

666
00:22:00,510 --> 00:22:03,360
So ADB Devices lists
all of the devices

667
00:22:03,360 --> 00:22:05,000
connected to your machine.

668
00:22:05,000 --> 00:22:06,090
So there might be a
couple of them.

669
00:22:06,090 --> 00:22:07,740
And Jake is going to take the
leap of faith, and it's

670
00:22:07,740 --> 00:22:09,010
worked, I think.

671
00:22:09,010 --> 00:22:10,560
He's run ADB forward.

672
00:22:10,560 --> 00:22:13,060
And ADB forward basically says
we're going to forward a

673
00:22:13,060 --> 00:22:19,050
special port, TCP 922, to all
those connections straight to

674
00:22:19,050 --> 00:22:21,670
this or the host, called local
abstract Chrome devtools.

675
00:22:21,670 --> 00:22:24,590
Now that itself is the devtools
instance running

676
00:22:24,590 --> 00:22:25,820
inside the actual browser.

677
00:22:25,820 --> 00:22:28,790
So what you might notice is
that your devtools inside

678
00:22:28,790 --> 00:22:31,210
Chrome appears different to the
devtools that you'd get

679
00:22:31,210 --> 00:22:32,650
when you debug a device.

680
00:22:32,650 --> 00:22:34,740
And that's because I think the
device that you're on,

681
00:22:34,740 --> 00:22:36,580
the URL says 25.

682
00:22:36,580 --> 00:22:38,940
You're at M25 there, and you
might be on Canary on your

683
00:22:38,940 --> 00:22:42,450
desktop, which is at 26 or 27.

684
00:22:42,450 --> 00:22:44,170
So we're basically forwarding
all the

685
00:22:44,170 --> 00:22:45,600
requests to that device.

686
00:22:45,600 --> 00:22:48,550
And that device is serving up
devtools for us, and then we

687
00:22:48,550 --> 00:22:49,538
go from there.

688
00:22:49,538 --> 00:22:51,210
JAKE ARCHIBALD: Yep.

689
00:22:51,210 --> 00:22:52,100
PAUL KINLAN: That was actually a
pretty good save, wasn't it?

690
00:22:52,100 --> 00:22:53,190
JAKE ARCHIBALD: That was
a really good fill.

691
00:22:53,190 --> 00:22:54,710
I'm very happy about that.

692
00:22:54,710 --> 00:22:57,040
And by the way, the solution
there was to unplug it and

693
00:22:57,040 --> 00:23:00,890
plug it back in, just
the other end of it.

694
00:23:00,890 --> 00:23:03,220
Anyway so what I'm going to do
now is I'm going to pick up

695
00:23:03,220 --> 00:23:05,310
one of these things that's
moving around.

696
00:23:05,310 --> 00:23:09,930
So if we're on the desktop view,
we can see that I've got

697
00:23:09,930 --> 00:23:10,930
this magnifying glass here.

698
00:23:10,930 --> 00:23:11,930
I'm going to click that.

699
00:23:11,930 --> 00:23:14,530
And then I can just tap on the
actual device, if I can catch

700
00:23:14,530 --> 00:23:16,700
one of these snakes,
and it's going to

701
00:23:16,700 --> 00:23:17,820
bring up that element.

702
00:23:17,820 --> 00:23:18,600
It's such a simple thing.

703
00:23:18,600 --> 00:23:19,520
I really like that.

704
00:23:19,520 --> 00:23:23,390
Anyway, what I'm going to
do is a horrible hack.

705
00:23:23,390 --> 00:23:30,610
And I'm going to do webkit
transform and then

706
00:23:30,610 --> 00:23:33,140
translate Z, 0.

707
00:23:33,140 --> 00:23:35,380
And if we watch what happens on
the screen, as you can see

708
00:23:35,380 --> 00:23:39,240
the performance has just
gone much, much better.

709
00:23:39,240 --> 00:23:41,620
In fact, let's not guess
what frame raise it is.

710
00:23:41,620 --> 00:23:45,030
Let's run devtools here.

711
00:23:45,030 --> 00:23:45,310
OK.

712
00:23:45,310 --> 00:23:46,430
We're not perfect.

713
00:23:46,430 --> 00:23:48,380
PAUL KINLAN: You're not at the
full 30 frames a second but--

714
00:23:48,380 --> 00:23:48,740
JAKE ARCHIBALD: No.

715
00:23:48,740 --> 00:23:51,170
It actually visually looks a
little bit faster than that.

716
00:23:51,170 --> 00:23:53,000
And maybe devtools itself
was making it slower.

717
00:23:53,000 --> 00:23:55,540
But the important thing is the
paints have gone, and we've

718
00:23:55,540 --> 00:23:58,315
got compositing instead.

719
00:23:58,315 --> 00:23:59,610
PAUL KINLAN: Can we describe
this [INAUDIBLE]?

720
00:23:59,610 --> 00:23:59,710
JAKE ARCHIBALD: Yeah.

721
00:23:59,710 --> 00:24:01,380
PAUL KINLAN: I don't always
pay attention to you.

722
00:24:01,380 --> 00:24:01,780
JAKE ARCHIBALD: OK.

723
00:24:01,780 --> 00:24:02,630
That's fine.

724
00:24:02,630 --> 00:24:05,810
So I'm Barry.

725
00:24:05,810 --> 00:24:07,740
Pleased to meet you.

726
00:24:07,740 --> 00:24:08,220
Welcome.

727
00:24:08,220 --> 00:24:09,290
You're in a studio.

728
00:24:09,290 --> 00:24:10,610
Everything is OK.

729
00:24:10,610 --> 00:24:13,180
The bright lights are OK.

730
00:24:13,180 --> 00:24:14,480
There are three lights.

731
00:24:14,480 --> 00:24:14,534
PAUL KINLAN: No.

732
00:24:14,534 --> 00:24:14,790
I was going to say.

733
00:24:14,790 --> 00:24:15,260
JAKE ARCHIBALD: There
are four lights.

734
00:24:15,260 --> 00:24:17,910
PAUL KINLAN: There's actually
four lights.

735
00:24:17,910 --> 00:24:20,500
That reminds me of the t-shirt
you were looking at before.

736
00:24:20,500 --> 00:24:22,330
Yeah, so this user interface,
I'm pointing at a screen which

737
00:24:22,330 --> 00:24:23,590
you can't see me point
at properly.

738
00:24:23,590 --> 00:24:27,550
But anyway, there's two lines,
60 and 30, and they kind of

739
00:24:27,550 --> 00:24:29,620
vary based on the actual
frame rate that

740
00:24:29,620 --> 00:24:30,470
you're actually getting.

741
00:24:30,470 --> 00:24:31,170
JAKE ARCHIBALD: Yes.

742
00:24:31,170 --> 00:24:32,620
PAUL KINLAN: Because if you're
getting a really slow frame

743
00:24:32,620 --> 00:24:34,270
rate-- and we've seen
applications that get like a

744
00:24:34,270 --> 00:24:35,570
quarter of a frame a second--

745
00:24:35,570 --> 00:24:37,240
you don't even see the
60 frame a second.

746
00:24:37,240 --> 00:24:39,010
The 30 frame a second
line's there.

747
00:24:39,010 --> 00:24:42,370
But this gives you a great
indication about how fast your

748
00:24:42,370 --> 00:24:44,240
application's running
on the frame rate.

749
00:24:44,240 --> 00:24:44,460
JAKE ARCHIBALD: Yeah.

750
00:24:44,460 --> 00:24:47,320
And the fix we applied there
is by applying hardware

751
00:24:47,320 --> 00:24:49,650
rendering to all of
those objects.

752
00:24:49,650 --> 00:24:54,200
So I'm going to try and explain
difference between

753
00:24:54,200 --> 00:24:56,120
software and hardware rendering
to you really,

754
00:24:56,120 --> 00:24:58,070
really quickly.

755
00:24:58,070 --> 00:25:02,060
So imagine you have
a wall, OK?

756
00:25:02,060 --> 00:25:03,250
A big white wall.

757
00:25:03,250 --> 00:25:04,690
And you're going to do
a painting on it.

758
00:25:04,690 --> 00:25:05,020
PAUL KINLAN: OK.

759
00:25:05,020 --> 00:25:07,640
JAKE ARCHIBALD: So you get your
bucket of magenta paint

760
00:25:07,640 --> 00:25:11,620
and your paint brush, and
you draw your shape.

761
00:25:11,620 --> 00:25:13,640
And you stand back, and
you think, wow.

762
00:25:13,640 --> 00:25:14,800
That's brilliant.

763
00:25:14,800 --> 00:25:17,870
Oh, except it's a little bit
too far to the right.

764
00:25:17,870 --> 00:25:19,460
I want to move it to the left.

765
00:25:19,460 --> 00:25:21,110
The problem is you
painted a wall.

766
00:25:21,110 --> 00:25:22,670
PAUL KINLAN: So you're saying
I knock the wall down and

767
00:25:22,670 --> 00:25:23,630
build it up again?

768
00:25:23,630 --> 00:25:24,550
JAKE ARCHIBALD: Well, you'll
need to repaint

769
00:25:24,550 --> 00:25:25,550
the wall white again.

770
00:25:25,550 --> 00:25:26,150
Paint the wall white.

771
00:25:26,150 --> 00:25:27,530
PAUL KINLAN: That's actually
even more efficient than what

772
00:25:27,530 --> 00:25:28,060
I was going to do.

773
00:25:28,060 --> 00:25:28,700
JAKE ARCHIBALD: Exactly.

774
00:25:28,700 --> 00:25:29,220
Yeah.

775
00:25:29,220 --> 00:25:31,250
PAUL KINLAN: So that would
be software rendering.

776
00:25:31,250 --> 00:25:31,620
JAKE ARCHIBALD: Yes.

777
00:25:31,620 --> 00:25:32,520
And then you paint it again.

778
00:25:32,520 --> 00:25:33,930
PAUL KINLAN: What would my
mechanism be, then, knocking

779
00:25:33,930 --> 00:25:34,300
down the wall?

780
00:25:34,300 --> 00:25:37,430
JAKE ARCHIBALD: Knocking down
the well, we're talking IE 5.5

781
00:25:37,430 --> 00:25:38,410
Mac there

782
00:25:38,410 --> 00:25:38,630
PAUL KINLAN: Oh, OK.

783
00:25:38,630 --> 00:25:42,210
JAKE ARCHIBALD: I think
that's what they did.

784
00:25:42,210 --> 00:25:44,560
But in hardware rendering, what
you would do is put a

785
00:25:44,560 --> 00:25:46,130
piece of Perspex
over the wall.

786
00:25:46,130 --> 00:25:46,445
PAUL KINLAN: Yep.

787
00:25:46,445 --> 00:25:48,760
JAKE ARCHIBALD: You would
do your painting again.

788
00:25:48,760 --> 00:25:50,850
And then if you wanted to move
it, you would just be able to

789
00:25:50,850 --> 00:25:51,580
move the Perspex.

790
00:25:51,580 --> 00:25:54,320
In fact, you could add multiple
layers of Perspex and

791
00:25:54,320 --> 00:25:56,930
draw stuff on there, and
then moving around

792
00:25:56,930 --> 00:25:57,710
becomes really cheap.

793
00:25:57,710 --> 00:26:00,740
If you wanted to change
something else about it, like

794
00:26:00,740 --> 00:26:03,730
the color or the shape, you've
still got to do some painting,

795
00:26:03,730 --> 00:26:05,310
but moving becomes really,
really cheap.

796
00:26:05,310 --> 00:26:06,250
PAUL KINLAN: Yep.

797
00:26:06,250 --> 00:26:06,720
JAKE ARCHIBALD: Excellent.

798
00:26:06,720 --> 00:26:07,540
Did that work?

799
00:26:07,540 --> 00:26:08,540
PAUL KINLAN: That was actually
pretty good.

800
00:26:08,540 --> 00:26:09,230
JAKE ARCHIBALD: That
was excellent.

801
00:26:09,230 --> 00:26:11,770
PAUL KINLAN: As you can tell,
I'm not that clever.

802
00:26:11,770 --> 00:26:13,573
I was actually going to
knock a wall down.

803
00:26:13,573 --> 00:26:16,200
JAKE ARCHIBALD: Well, we
might do that later on.

804
00:26:16,200 --> 00:26:17,300
We could finish with that.

805
00:26:17,300 --> 00:26:19,400
We could knock this well
down, if you want.

806
00:26:19,400 --> 00:26:20,570
That sounds like a
good way to end.

807
00:26:20,570 --> 00:26:21,750
PAUL KINLAN: With the amount of
trouble we had getting this

808
00:26:21,750 --> 00:26:22,575
place ready first--

809
00:26:22,575 --> 00:26:23,830
JAKE ARCHIBALD: That's
true, actually.

810
00:26:23,830 --> 00:26:25,000
Well, yeah.

811
00:26:25,000 --> 00:26:27,980
So if we look at the mobile
phone view, I've put this

812
00:26:27,980 --> 00:26:28,790
button in the middle.

813
00:26:28,790 --> 00:26:31,540
This wasn't a life suggestion.

814
00:26:31,540 --> 00:26:32,510
Go out and do something.

815
00:26:32,510 --> 00:26:33,400
No, this is a button.

816
00:26:33,400 --> 00:26:36,430
And this is going to spend a
second-- there it goes--

817
00:26:36,430 --> 00:26:38,690
worth of JavaScript time
doing a thing.

818
00:26:38,690 --> 00:26:41,750
And you can see there the
animation stops as well.

819
00:26:41,750 --> 00:26:44,130
We can actually improve on
that and improve on the

820
00:26:44,130 --> 00:26:46,150
animation performance as well.

821
00:26:46,150 --> 00:26:48,340
We saw with the code
we had before--

822
00:26:48,340 --> 00:26:54,768
Let's go back to the desktop
view where I can show that.

823
00:26:54,768 --> 00:26:57,630
Let's get ride of devtools.

824
00:26:57,630 --> 00:26:59,190
Come on, JSbin, don't
fail me now.

825
00:26:59,190 --> 00:26:59,470
Right.

826
00:26:59,470 --> 00:27:02,005
So this is the animation
we're doing.

827
00:27:02,005 --> 00:27:04,150
And it's using top and left.

828
00:27:04,150 --> 00:27:07,540
But we could alternatively
animate using

829
00:27:07,540 --> 00:27:09,550
transforms like this.

830
00:27:09,550 --> 00:27:13,400
And if we go to the phone now
or the Nexus, I'm going to

831
00:27:13,400 --> 00:27:15,780
make that happen, if
I can remember how.

832
00:27:15,780 --> 00:27:16,180
Here we go.

833
00:27:16,180 --> 00:27:17,830
Here's our animation name.

834
00:27:17,830 --> 00:27:20,450
And I believe it was
around transform.

835
00:27:20,450 --> 00:27:24,140

836
00:27:24,140 --> 00:27:25,810
PAUL KINLAN: I was laughing at
you earlier, because I was

837
00:27:25,810 --> 00:27:26,385
like, oh, you made a mistake.

838
00:27:26,385 --> 00:27:27,080
JAKE ARCHIBALD: Yeah.

839
00:27:27,080 --> 00:27:27,900
Bug in devtools.

840
00:27:27,900 --> 00:27:28,830
That should be crossed out.

841
00:27:28,830 --> 00:27:29,830
Yep.

842
00:27:29,830 --> 00:27:32,270
This should actually be
webkit-animation-delay, which

843
00:27:32,270 --> 00:27:34,920
is what's being set here, which
is why each circle is

844
00:27:34,920 --> 00:27:36,340
slightly off from
the other one.

845
00:27:36,340 --> 00:27:37,722
And that creates a snake.

846
00:27:37,722 --> 00:27:39,630
So now our performance has
actually gotten much better.

847
00:27:39,630 --> 00:27:41,390
PAUL KINLAN: --on a
geometric plane.

848
00:27:41,390 --> 00:27:42,855
JAKE ARCHIBALD: Oh, so
happy about that.

849
00:27:42,855 --> 00:27:45,480
And if we run devtools
now, look at that.

850
00:27:45,480 --> 00:27:47,520
And in fact, I think
it's actually

851
00:27:47,520 --> 00:27:48,550
at 60 frames a second.

852
00:27:48,550 --> 00:27:50,070
It just gets slower when we're
actually recording.

853
00:27:50,070 --> 00:27:51,530
One of those Heisenbugs.

854
00:27:51,530 --> 00:27:51,950
PAUL KINLAN: Yep.

855
00:27:51,950 --> 00:27:52,850
JAKE ARCHIBALD: And we've
got no paints.

856
00:27:52,850 --> 00:27:54,670
We've got no recalculations.

857
00:27:54,670 --> 00:27:56,180
We're just doing composites on

858
00:27:56,180 --> 00:27:57,810
hardware, and that's brilliant.

859
00:27:57,810 --> 00:28:01,480
And furthermore, if I press
this Do Something button,

860
00:28:01,480 --> 00:28:04,300
JavaScript is still going to
block for a second, but the

861
00:28:04,300 --> 00:28:06,250
animation's like don't care.

862
00:28:06,250 --> 00:28:07,580
I'm doing my own things.

863
00:28:07,580 --> 00:28:08,690
Don't care about what
JavaScript's doing.

864
00:28:08,690 --> 00:28:09,930
That's kind of cool.

865
00:28:09,930 --> 00:28:11,610
We'd all like to not care
about JavaScript

866
00:28:11,610 --> 00:28:13,440
every now and then.

867
00:28:13,440 --> 00:28:14,390
PAUL KINLAN: I don't even
care about most

868
00:28:14,390 --> 00:28:15,050
things half the time.

869
00:28:15,050 --> 00:28:16,990
JAKE ARCHIBALD: That's
all right.

870
00:28:16,990 --> 00:28:18,660
I don't even care about you.

871
00:28:18,660 --> 00:28:21,820
Nearly did a swear.

872
00:28:21,820 --> 00:28:24,420
OK.

873
00:28:24,420 --> 00:28:24,740
PAUL KINLAN: Yeah.

874
00:28:24,740 --> 00:28:26,320
I think that's kind
of interesting.

875
00:28:26,320 --> 00:28:29,125
I've not seen too many people
use devtools, especially for

876
00:28:29,125 --> 00:28:30,290
performance profiling.

877
00:28:30,290 --> 00:28:31,540
And that's one of the things
that we definitely want to

878
00:28:31,540 --> 00:28:33,710
encourage is people to
use more of devtools.

879
00:28:33,710 --> 00:28:36,380
You get the same kind of
interface exactly against

880
00:28:36,380 --> 00:28:37,990
these devices.

881
00:28:37,990 --> 00:28:41,710
I would say that if you email
me, paulkinlan@google.com, if

882
00:28:41,710 --> 00:28:44,440
you have any ideas about how
you'd like to use devtools and

883
00:28:44,440 --> 00:28:47,220
what you'd like to be able to
actually interact with these

884
00:28:47,220 --> 00:28:51,690
devices better than we can
now, please let us know.

885
00:28:51,690 --> 00:28:55,760
We'll file that feedback
directly to the team.

886
00:28:55,760 --> 00:28:56,510
Yeah.

887
00:28:56,510 --> 00:28:58,730
That's the biggest thing I want
to get out today is we

888
00:28:58,730 --> 00:29:00,200
actually want feedback
when people start

889
00:29:00,200 --> 00:29:00,950
building these things.

890
00:29:00,950 --> 00:29:03,030
And we want you to go and
play with this as well.

891
00:29:03,030 --> 00:29:04,640
JAKE ARCHIBALD: Yeah.

892
00:29:04,640 --> 00:29:06,700
I don't want people to start
thinking of that translate Z

893
00:29:06,700 --> 00:29:09,500
thing as a--

894
00:29:09,500 --> 00:29:10,105
Silver bullet?

895
00:29:10,105 --> 00:29:10,650
Golden bullet?

896
00:29:10,650 --> 00:29:11,520
We'll call it a golden bullet.

897
00:29:11,520 --> 00:29:11,950
PAUL KINLAN: Silverfinger?

898
00:29:11,950 --> 00:29:13,935
Is Goldenfinger silver bullet?

899
00:29:13,935 --> 00:29:14,820
I don't know.

900
00:29:14,820 --> 00:29:16,600
We got into trouble
doing something--

901
00:29:16,600 --> 00:29:16,840
JAKE ARCHIBALD: Yeah.

902
00:29:16,840 --> 00:29:17,260
Let's not.

903
00:29:17,260 --> 00:29:18,320
PAUL KINLAN: Let's
leave this one.

904
00:29:18,320 --> 00:29:19,470
JAKE ARCHIBALD: Let's talk
about something else.

905
00:29:19,470 --> 00:29:20,400
PAUL KINLAN: Yep.

906
00:29:20,400 --> 00:29:21,280
JAKE ARCHIBALD: In fact,
I think [INAUDIBLE]--

907
00:29:21,280 --> 00:29:22,870
PAUL KINLAN: It's
not a panacea.

908
00:29:22,870 --> 00:29:23,950
Is that a word?

909
00:29:23,950 --> 00:29:24,410
JAKE ARCHIBALD: I don't know.

910
00:29:24,410 --> 00:29:26,540
That's out of my vocabulary.

911
00:29:26,540 --> 00:29:27,620
Can I talk about mobiles?

912
00:29:27,620 --> 00:29:27,920
Is that OK?

913
00:29:27,920 --> 00:29:29,330
Is that OK with you?

914
00:29:29,330 --> 00:29:30,030
PAUL KINLAN: We're actually
running out of time, but I'm

915
00:29:30,030 --> 00:29:30,600
trying to--

916
00:29:30,600 --> 00:29:31,420
JAKE ARCHIBALD: Right.

917
00:29:31,420 --> 00:29:33,235
Let me do this demo
really quickly.

918
00:29:33,235 --> 00:29:34,620
PAUL KINLAN: And then we'll
move to questions.

919
00:29:34,620 --> 00:29:35,550
JAKE ARCHIBALD: And then we'll
move to questions.

920
00:29:35,550 --> 00:29:36,600
PAUL KINLAN: We need about
10 minutes for questions.

921
00:29:36,600 --> 00:29:36,870
JAKE ARCHIBALD: OK.

922
00:29:36,870 --> 00:29:37,920
That's fine.

923
00:29:37,920 --> 00:29:41,300
I've gone back to the slow
demo on the phone.

924
00:29:41,300 --> 00:29:45,690
And what I'm going to do now is
I'm going to turn off some

925
00:29:45,690 --> 00:29:47,020
of the effects that
are going on here.

926
00:29:47,020 --> 00:29:50,450
So we've got a shadow and
the border radius.

927
00:29:50,450 --> 00:29:52,150
And as we turn those off--

928
00:29:52,150 --> 00:29:53,720
we're just software
rendering now--

929
00:29:53,720 --> 00:29:55,420
things have got lot quicker.

930
00:29:55,420 --> 00:29:59,230
And I'm also going to trigger
something else as well.

931
00:29:59,230 --> 00:30:01,730
I'm going to make the
colors change.

932
00:30:01,730 --> 00:30:04,050
So let's do that.

933
00:30:04,050 --> 00:30:04,690
There we go.

934
00:30:04,690 --> 00:30:06,920
So now it's going to change from
green to yellow just by

935
00:30:06,920 --> 00:30:08,220
changing a class name.

936
00:30:08,220 --> 00:30:09,260
And that's great.

937
00:30:09,260 --> 00:30:12,510
It's not awfully fast,
but it's consistent.

938
00:30:12,510 --> 00:30:17,090
What I'm going to do now is take
one of these boxes, and

939
00:30:17,090 --> 00:30:18,505
I'm going to do the same
hack we did before.

940
00:30:18,505 --> 00:30:20,250
It's really annoying because the
class names are changing.

941
00:30:20,250 --> 00:30:22,410
I can't quite get
a hold of it.

942
00:30:22,410 --> 00:30:23,160
OK.

943
00:30:23,160 --> 00:30:23,560
OK.

944
00:30:23,560 --> 00:30:24,950
I'm just going to press here.

945
00:30:24,950 --> 00:30:26,490
Oh, don't do this to me.

946
00:30:26,490 --> 00:30:27,740
There we go.

947
00:30:27,740 --> 00:30:29,440

948
00:30:29,440 --> 00:30:29,770
It's good.

949
00:30:29,770 --> 00:30:31,400
It's fine.

950
00:30:31,400 --> 00:30:35,080
So I'm going to do the same
hack again, translate

951
00:30:35,080 --> 00:30:38,000
Z and down to 0.

952
00:30:38,000 --> 00:30:40,530
And now if we look at the phone,
the performance is

953
00:30:40,530 --> 00:30:42,620
roughly the same as
it was before.

954
00:30:42,620 --> 00:30:46,250
But you can see as it changes
color there's a--

955
00:30:46,250 --> 00:30:48,240
we call it jank, right?--

956
00:30:48,240 --> 00:30:48,580
a jank.

957
00:30:48,580 --> 00:30:49,650
PAUL KINLAN: I used
to call it yank.

958
00:30:49,650 --> 00:30:50,230
JAKE ARCHIBALD: It's a yank.

959
00:30:50,230 --> 00:30:51,380
That's racist, man.

960
00:30:51,380 --> 00:30:51,870
Don't.

961
00:30:51,870 --> 00:30:52,770
PAUL KINLAN: It's not.

962
00:30:52,770 --> 00:30:53,460
JAKE ARCHIBALD: You're
getting fired.

963
00:30:53,460 --> 00:30:54,540
I'm still employed.

964
00:30:54,540 --> 00:30:57,910
PAUL KINLAN: Well, I thought it
was like in a lot of places

965
00:30:57,910 --> 00:31:00,960
in Europe they pronounce
the j's y's.

966
00:31:00,960 --> 00:31:01,700
JAKE ARCHIBALD: OK.

967
00:31:01,700 --> 00:31:03,870
All right.

968
00:31:03,870 --> 00:31:04,780
I'm going to move on.

969
00:31:04,780 --> 00:31:09,950
If we have a look in timeline in
devtools in the desktop, we

970
00:31:09,950 --> 00:31:13,140
can see that jank happening
right there.

971
00:31:13,140 --> 00:31:14,680
And we can see what the
result of that is

972
00:31:14,680 --> 00:31:15,620
is all these paints.

973
00:31:15,620 --> 00:31:17,140
And as I was saying before,
because we're actually

974
00:31:17,140 --> 00:31:19,490
changing the appearance of the
element, it's having to go

975
00:31:19,490 --> 00:31:23,440
away and paint every one of
those squares individually and

976
00:31:23,440 --> 00:31:24,450
upload them to the GPU.

977
00:31:24,450 --> 00:31:28,210
And that's really cheap on your
desktop, but it's really

978
00:31:28,210 --> 00:31:30,910
expensive on a mobile.

979
00:31:30,910 --> 00:31:33,770
The Nexus 7 we're demoing on has
quite a good relationship

980
00:31:33,770 --> 00:31:37,510
with the GPU, whereas
phones often don't.

981
00:31:37,510 --> 00:31:39,390
And you can run into
real trouble.

982
00:31:39,390 --> 00:31:43,655
What I'm trying to say is
translate Z is like beer.

983
00:31:43,655 --> 00:31:45,510
It's like having a
bottle of beer.

984
00:31:45,510 --> 00:31:47,385
I don't know about you, but
there are some things I am

985
00:31:47,385 --> 00:31:50,360
better at after a bottle
of beer, things like--

986
00:31:50,360 --> 00:31:51,350
PAUL KINLAN: Darts.

987
00:31:51,350 --> 00:31:52,510
JAKE ARCHIBALD: --talking
to people.

988
00:31:52,510 --> 00:31:52,880
PAUL KINLAN: Yes.

989
00:31:52,880 --> 00:31:53,480
Dancing.

990
00:31:53,480 --> 00:31:54,500
JAKE ARCHIBALD: Dancing, yeah.

991
00:31:54,500 --> 00:31:55,280
Yeah.

992
00:31:55,280 --> 00:32:01,385
But after a few more beers,
I am worse at

993
00:32:01,385 --> 00:32:02,230
them than to start.

994
00:32:02,230 --> 00:32:05,450
I am lying on the floor telling
a fire extinguisher

995
00:32:05,450 --> 00:32:09,210
how pretty its hair is, or
something like that.

996
00:32:09,210 --> 00:32:10,690
And this is how it works.

997
00:32:10,690 --> 00:32:14,320
So your desktop can really
hold its liquor.

998
00:32:14,320 --> 00:32:15,010
It's good at it.

999
00:32:15,010 --> 00:32:16,880
It's being optimized
to do that.

1000
00:32:16,880 --> 00:32:19,370
Whereas your phone
is a lightweight.

1001
00:32:19,370 --> 00:32:23,670
After a couple of beers, it's
going to start throwing up.

1002
00:32:23,670 --> 00:32:26,130
And it's going to be throwing
up GPU memory.

1003
00:32:26,130 --> 00:32:27,020
PAUL KINLAN: Yes.

1004
00:32:27,020 --> 00:32:27,900
JAKE ARCHIBALD: I
could demo that.

1005
00:32:27,900 --> 00:32:28,520
Or we're out of time?

1006
00:32:28,520 --> 00:32:29,430
PAUL KINLAN: I think
we're out of time.

1007
00:32:29,430 --> 00:32:31,320
I think what we should do,
though, is we've got a lot of

1008
00:32:31,320 --> 00:32:32,240
questions in the Moderator--

1009
00:32:32,240 --> 00:32:32,760
JAKE ARCHIBALD: Oh,
that's good.

1010
00:32:32,760 --> 00:32:34,160
PAUL KINLAN: --some of which
I know we can demo.

1011
00:32:34,160 --> 00:32:35,830
And we can be a little
bit quicker.

1012
00:32:35,830 --> 00:32:39,240
I know there's no one in this
studio after us, so I think we

1013
00:32:39,240 --> 00:32:40,850
should be OK.

1014
00:32:40,850 --> 00:32:42,430
And if we're not, my colleagues
will ping me and

1015
00:32:42,430 --> 00:32:43,420
tell us to get off air.

1016
00:32:43,420 --> 00:32:44,070
JAKE ARCHIBALD: Yeah,
that's good.

1017
00:32:44,070 --> 00:32:45,125
They'll be knocking
at the door.

1018
00:32:45,125 --> 00:32:45,390
That's fine.

1019
00:32:45,390 --> 00:32:47,300
PAUL KINLAN: Well, they'll
be in America somewhere.

1020
00:32:47,300 --> 00:32:47,615
JAKE ARCHIBALD: Oh.

1021
00:32:47,615 --> 00:32:48,818
Oh, OK.

1022
00:32:48,818 --> 00:32:49,706
How can they use--?

1023
00:32:49,706 --> 00:32:49,817
OK.

1024
00:32:49,817 --> 00:32:50,150
It doesn't matter.

1025
00:32:50,150 --> 00:32:50,670
PAUL KINLAN: It doesn't
matter.

1026
00:32:50,670 --> 00:32:52,150
It's the internet.

1027
00:32:52,150 --> 00:32:52,405
JAKE ARCHIBALD: Wow.

1028
00:32:52,405 --> 00:32:53,620
PAUL KINLAN: This cloud
thing, right?

1029
00:32:53,620 --> 00:32:54,770
JAKE ARCHIBALD: Oh, is
that our new product?

1030
00:32:54,770 --> 00:32:56,470
A transporter?

1031
00:32:56,470 --> 00:32:57,430
Is that launching at I/O?

1032
00:32:57,430 --> 00:32:59,040
PAUL KINLAN: I did actually say
they'll ping me, not knock

1033
00:32:59,040 --> 00:32:59,460
on the door.

1034
00:32:59,460 --> 00:33:00,050
JAKE ARCHIBALD: Oh, OK.

1035
00:33:00,050 --> 00:33:01,520
PAUL KINLAN: Anyway,
we're wasting time.

1036
00:33:01,520 --> 00:33:03,110
JAKE ARCHIBALD: Carry on.

1037
00:33:03,110 --> 00:33:05,330
PAUL KINLAN: So first and
most popular question,

1038
00:33:05,330 --> 00:33:06,960
from Mark J in London.

1039
00:33:06,960 --> 00:33:08,875
I don't quite know
Mark J. Do you?

1040
00:33:08,875 --> 00:33:09,370
JAKE ARCHIBALD: No.

1041
00:33:09,370 --> 00:33:10,270
PAUL KINLAN: Well,
hello, Mark J.

1042
00:33:10,270 --> 00:33:12,556
JAKE ARCHIBALD: Sorry
if I do know you.

1043
00:33:12,556 --> 00:33:13,270
PAUL KINLAN: I'm sorry too.

1044
00:33:13,270 --> 00:33:15,310
JAKE ARCHIBALD: Has
he put his age?

1045
00:33:15,310 --> 00:33:16,860
People should put their
age with questions.

1046
00:33:16,860 --> 00:33:17,560
I like it.

1047
00:33:17,560 --> 00:33:17,900
PAUL KINLAN: Yeah.

1048
00:33:17,900 --> 00:33:19,480
He's 28, from London.

1049
00:33:19,480 --> 00:33:20,290
JAKE ARCHIBALD: Excellent.

1050
00:33:20,290 --> 00:33:22,670
PAUL KINLAN: Will fixed position
always be such a huge

1051
00:33:22,670 --> 00:33:24,210
performance killer?

1052
00:33:24,210 --> 00:33:26,180
So I know you've done a little
bit of research about this

1053
00:33:26,180 --> 00:33:27,200
just today.

1054
00:33:27,200 --> 00:33:27,830
JAKE ARCHIBALD: Yeah.

1055
00:33:27,830 --> 00:33:29,680
No, it won't.

1056
00:33:29,680 --> 00:33:31,260
In fact, let's have a look.

1057
00:33:31,260 --> 00:33:35,350
If we go onto the mobile
device, I'm going

1058
00:33:35,350 --> 00:33:39,790
to launch BBC News.

1059
00:33:39,790 --> 00:33:40,590
And there we go.

1060
00:33:40,590 --> 00:33:41,325
OK.

1061
00:33:41,325 --> 00:33:42,570
Oh, what's Cameron doing?

1062
00:33:42,570 --> 00:33:45,960
Anyway, let's have a look
at devtools as well.

1063
00:33:45,960 --> 00:33:52,200
And what I'm going to do is I'm
going to click on this,

1064
00:33:52,200 --> 00:33:54,680
and I'm going to get hold
of this masthead here.

1065
00:33:54,680 --> 00:33:56,580
There we go.

1066
00:33:56,580 --> 00:33:57,345
And what I'm going to
do is I'm going to

1067
00:33:57,345 --> 00:33:58,310
make this fixed position.

1068
00:33:58,310 --> 00:34:08,280
So fixed and top 0, left 0.

1069
00:34:08,280 --> 00:34:11,510
Let's give it width 100%,
because it's not in flow

1070
00:34:11,510 --> 00:34:13,690
anymore, and Z index--

1071
00:34:13,690 --> 00:34:14,980
What's your favorite
number, Paul?

1072
00:34:14,980 --> 00:34:15,659
PAUL KINLAN: 74.

1073
00:34:15,659 --> 00:34:18,800
JAKE ARCHIBALD: 74.

1074
00:34:18,800 --> 00:34:20,832
PAUL KINLAN: Just ignore
me and put 64 instead.

1075
00:34:20,832 --> 00:34:23,825
JAKE ARCHIBALD: I hate your
favorite number, so I'm not

1076
00:34:23,825 --> 00:34:24,300
going to do it.

1077
00:34:24,300 --> 00:34:27,530
So if we have a look at the
mobile device now, I fixed

1078
00:34:27,530 --> 00:34:28,679
that masthead at the top.

1079
00:34:28,679 --> 00:34:31,290
And really we don't
have too much of a

1080
00:34:31,290 --> 00:34:32,960
performance problem at all.

1081
00:34:32,960 --> 00:34:34,600
One thing to watch
out for is if--

1082
00:34:34,600 --> 00:34:34,810
OK.

1083
00:34:34,810 --> 00:34:36,650
The BBC doesn't do
pinch zooming.

1084
00:34:36,650 --> 00:34:39,440
In fact, I'm going to make it
do pinch zooming, because

1085
00:34:39,440 --> 00:34:40,780
we've got devtools.

1086
00:34:40,780 --> 00:34:42,880
PAUL KINLAN: Does this work if
you modify the viewport?

1087
00:34:42,880 --> 00:34:44,100
JAKE ARCHIBALD: Let's
find out.

1088
00:34:44,100 --> 00:34:45,639
This is exciting.

1089
00:34:45,639 --> 00:34:48,590
There it is, user-scalable 1.

1090
00:34:48,590 --> 00:34:50,000
I don't know what that means.

1091
00:34:50,000 --> 00:34:51,260
That doesn't mean anything.

1092
00:34:51,260 --> 00:34:55,080
Maximum scale of 1, that's
our problem.

1093
00:34:55,080 --> 00:34:55,420
Right.

1094
00:34:55,420 --> 00:34:57,440
Let's see if that worked.

1095
00:34:57,440 --> 00:34:58,400
Oh, look at it go.

1096
00:34:58,400 --> 00:34:59,070
Excellent.

1097
00:34:59,070 --> 00:35:03,360
So yeah, using fixed
elements--

1098
00:35:03,360 --> 00:35:05,290
Oh, I've clicked on
the link now.

1099
00:35:05,290 --> 00:35:07,240
No, no, I haven't.

1100
00:35:07,240 --> 00:35:09,750
With pinch zooming, you get a
really behavior with fixed

1101
00:35:09,750 --> 00:35:11,260
positioning.

1102
00:35:11,260 --> 00:35:15,146
But without it, is it's actually
decently fast.

1103
00:35:15,146 --> 00:35:18,100
Yeah, scrolling is
going smoothly.

1104
00:35:18,100 --> 00:35:20,280
I think this is a problem
on all the devices.

1105
00:35:20,280 --> 00:35:21,930
I think that's what we're
talking about.

1106
00:35:21,930 --> 00:35:22,080
PAUL KINLAN: Yeah.

1107
00:35:22,080 --> 00:35:24,360
JAKE ARCHIBALD: In fact, it's
more of a problem on desktop.

1108
00:35:24,360 --> 00:35:25,970
PAUL KINLAN: We actually had a
problem the other week where

1109
00:35:25,970 --> 00:35:29,530
we were debugging another app
and fixed position actually

1110
00:35:29,530 --> 00:35:31,570
caused a different behavior.

1111
00:35:31,570 --> 00:35:32,770
I don't know whether
it was a slow path.

1112
00:35:32,770 --> 00:35:33,900
Well, it probably was
a slow path, because

1113
00:35:33,900 --> 00:35:36,090
it was a lot slower.

1114
00:35:36,090 --> 00:35:36,965
Yeah, it was kind
of interesting.

1115
00:35:36,965 --> 00:35:38,367
It caused a whole lot
of repaints that

1116
00:35:38,367 --> 00:35:39,110
didn't need to happen.

1117
00:35:39,110 --> 00:35:39,860
JAKE ARCHIBALD: Yeah.

1118
00:35:39,860 --> 00:35:44,080
At the moment we do a full page
repaint on scroll, which

1119
00:35:44,080 --> 00:35:45,990
we're working on fixing.

1120
00:35:45,990 --> 00:35:48,580
Fixed elements will go into
their own GPU layer, which is

1121
00:35:48,580 --> 00:35:49,950
what's happening on
a mobile already.

1122
00:35:49,950 --> 00:35:50,205
PAUL KINLAN: Yeah.

1123
00:35:50,205 --> 00:35:52,490
So to answer the question, like
you said before, it's not

1124
00:35:52,490 --> 00:35:53,600
always going to be a
performance killer.

1125
00:35:53,600 --> 00:35:56,010
We know it is.

1126
00:35:56,010 --> 00:35:57,680
And this is the great thing
about open source projects,

1127
00:35:57,680 --> 00:36:02,020
like Firefox and Chrome and
others as well is that there

1128
00:36:02,020 --> 00:36:04,160
are normally open
bug trackers.

1129
00:36:04,160 --> 00:36:05,300
Either submit one.

1130
00:36:05,300 --> 00:36:07,510
If it's already submitted by
someone else, it'll be triaged

1131
00:36:07,510 --> 00:36:08,670
and merged in with
another issue, so

1132
00:36:08,670 --> 00:36:10,060
don't worry about that.

1133
00:36:10,060 --> 00:36:11,330
But submit the feedback.

1134
00:36:11,330 --> 00:36:14,100
And then that's when we know
fixed position is a critical

1135
00:36:14,100 --> 00:36:14,705
problem for developers.

1136
00:36:14,705 --> 00:36:16,270
JAKE ARCHIBALD: Yeah.

1137
00:36:16,270 --> 00:36:19,040
PAUL KINLAN: So yeah, if it
is a problem, let us know.

1138
00:36:19,040 --> 00:36:21,080
And the bug trackers are
normally the best way.

1139
00:36:21,080 --> 00:36:21,310
JAKE ARCHIBALD: Yeah.

1140
00:36:21,310 --> 00:36:22,730
And have a look at the timeline,
because that will

1141
00:36:22,730 --> 00:36:26,180
show you that large repaints
are happening.

1142
00:36:26,180 --> 00:36:29,180
And any information you
can provider is great.

1143
00:36:29,180 --> 00:36:31,810
We'll look into it as well, but
you might be able to find

1144
00:36:31,810 --> 00:36:34,070
out that the cause of your
problem is something you can

1145
00:36:34,070 --> 00:36:34,710
easily fix.

1146
00:36:34,710 --> 00:36:35,480
PAUL KINLAN: Yeah.

1147
00:36:35,480 --> 00:36:36,930
Next question.

1148
00:36:36,930 --> 00:36:40,210
It's [INAUDIBLE] in England.

1149
00:36:40,210 --> 00:36:43,200
Is there a plan for Chrome to
integrate a view which shows

1150
00:36:43,200 --> 00:36:46,390
HTML5 exactly how it's processed
on the mobile?

1151
00:36:46,390 --> 00:36:47,470
OK.

1152
00:36:47,470 --> 00:36:49,610
JAKE ARCHIBALD: That
was just words.

1153
00:36:49,610 --> 00:36:51,230
PAUL KINLAN: That was me
not reading properly.

1154
00:36:51,230 --> 00:36:51,820
JAKE ARCHIBALD: Oh, OK.

1155
00:36:51,820 --> 00:36:52,380
Sorry there.

1156
00:36:52,380 --> 00:36:53,540
PAUL KINLAN: In iOS,
there's a simulator

1157
00:36:53,540 --> 00:36:54,450
which emulates Safari.

1158
00:36:54,450 --> 00:36:55,510
It has those differences.

1159
00:36:55,510 --> 00:36:57,135
And then the same with
Android emulators.

1160
00:36:57,135 --> 00:37:00,530
So this is actually one
of those things that--

1161
00:37:00,530 --> 00:37:03,070
Email me, paulkinlan@google.com,
because

1162
00:37:03,070 --> 00:37:05,430
I want to find out how people
work on desktop.

1163
00:37:05,430 --> 00:37:07,370
Because right now we're finding
that it's not too hard

1164
00:37:07,370 --> 00:37:09,150
to connect to a device and
actually do the testing.

1165
00:37:09,150 --> 00:37:11,170
But at the same time, we
understand the fact that if

1166
00:37:11,170 --> 00:37:12,530
you're on a desktop machine--

1167
00:37:12,530 --> 00:37:15,140
Can you actually show up a page
that we can go to to show

1168
00:37:15,140 --> 00:37:16,570
one of the little things
that we can do?

1169
00:37:16,570 --> 00:37:17,260
JAKE ARCHIBALD: On what?

1170
00:37:17,260 --> 00:37:18,180
What do you mean?

1171
00:37:18,180 --> 00:37:19,230
PAUL KINLAN: On the desktop.

1172
00:37:19,230 --> 00:37:20,190
JAKE ARCHIBALD: On the desktop,
what do you want?

1173
00:37:20,190 --> 00:37:20,700
PAUL KINLAN: Devtools.

1174
00:37:20,700 --> 00:37:21,450
JAKE ARCHIBALD: I phased out.

1175
00:37:21,450 --> 00:37:22,050
Devtools.

1176
00:37:22,050 --> 00:37:23,290
PAUL KINLAN: Yeah, on
desktop devtools.

1177
00:37:23,290 --> 00:37:24,420
JAKE ARCHIBALD: OK, OK, OK.

1178
00:37:24,420 --> 00:37:26,120
PAUL KINLAN: Come on.

1179
00:37:26,120 --> 00:37:26,630
Just anywhere.

1180
00:37:26,630 --> 00:37:27,940
It's fine.

1181
00:37:27,940 --> 00:37:29,180
JAKE ARCHIBALD: But I
want to say this--

1182
00:37:29,180 --> 00:37:30,200
I can't even spell.

1183
00:37:30,200 --> 00:37:31,995
PAUL KINLAN: It's OK.

1184
00:37:31,995 --> 00:37:32,350
JAKE ARCHIBALD: OK.

1185
00:37:32,350 --> 00:37:32,930
There you go.

1186
00:37:32,930 --> 00:37:33,380
Desktop.

1187
00:37:33,380 --> 00:37:33,810
PAUL KINLAN: OK.

1188
00:37:33,810 --> 00:37:38,660
Now go to Settings, and
then Overrides.

1189
00:37:38,660 --> 00:37:39,470
JAKE ARCHIBALD: Overrides.

1190
00:37:39,470 --> 00:37:39,760
PAUL KINLAN: Yeah.

1191
00:37:39,760 --> 00:37:42,400
We can get to User Agent
and Device Metrics.

1192
00:37:42,400 --> 00:37:42,700
JAKE ARCHIBALD: Yeah.

1193
00:37:42,700 --> 00:37:44,880
PAUL KINLAN: So we can
do some things.

1194
00:37:44,880 --> 00:37:46,235
Obviously Jake's not clicking
the buttons I

1195
00:37:46,235 --> 00:37:46,770
asked him to click.

1196
00:37:46,770 --> 00:37:49,540
JAKE ARCHIBALD: Oh, you didn't
say click the buttons.

1197
00:37:49,540 --> 00:37:50,240
PAUL KINLAN: I thought you
would have been able to

1198
00:37:50,240 --> 00:37:50,790
understand my--

1199
00:37:50,790 --> 00:37:51,650
JAKE ARCHIBALD: I thought
you were just--

1200
00:37:51,650 --> 00:37:52,140
PAUL KINLAN: --motioning.

1201
00:37:52,140 --> 00:37:52,820
JAKE ARCHIBALD: --trying
to impress

1202
00:37:52,820 --> 00:37:53,720
people with your reading.

1203
00:37:53,720 --> 00:37:54,990
PAUL KINLAN: Well, obviously
not, because they can't see

1204
00:37:54,990 --> 00:37:56,280
what I'm pointing at on the
screen properly, can they?

1205
00:37:56,280 --> 00:37:56,550
JAKE ARCHIBALD: Oh, OK.

1206
00:37:56,550 --> 00:37:57,130
Sorry.

1207
00:37:57,130 --> 00:37:58,575
PAUL KINLAN: I haven't
got Google Glass.

1208
00:37:58,575 --> 00:37:59,940
If I had Google Glass
it'd be awesome.

1209
00:37:59,940 --> 00:38:01,950
But essentially what we see is
that we can make the device

1210
00:38:01,950 --> 00:38:04,330
metrics to be like a Chrome for
mobile, Chrome for Android

1211
00:38:04,330 --> 00:38:05,680
iOS, so you can test it.

1212
00:38:05,680 --> 00:38:07,810
However, it doesn't emulate the
viewport, and it doesn't

1213
00:38:07,810 --> 00:38:09,500
emulate a whole lot of other
things that you'd expect on

1214
00:38:09,500 --> 00:38:10,510
the machine.

1215
00:38:10,510 --> 00:38:12,340
And if you talk to the
performance guys, they

1216
00:38:12,340 --> 00:38:13,620
actually want you to test--

1217
00:38:13,620 --> 00:38:16,100
that was quick--

1218
00:38:16,100 --> 00:38:18,030
on the devices, because when
you're thinking about

1219
00:38:18,030 --> 00:38:20,590
performance, a lot of the time
it's the GPU characteristics

1220
00:38:20,590 --> 00:38:22,050
and a whole lot of other
stuff which might

1221
00:38:22,050 --> 00:38:22,850
be causing you problems.

1222
00:38:22,850 --> 00:38:25,130
You might think you've done it
quite well on one machine.

1223
00:38:25,130 --> 00:38:26,570
You go to your device,
and it's a

1224
00:38:26,570 --> 00:38:28,280
completely different profile.

1225
00:38:28,280 --> 00:38:29,780
So that's why we're encouraging
people to use the

1226
00:38:29,780 --> 00:38:32,890
devtools and actually test on
the devices themselves.

1227
00:38:32,890 --> 00:38:35,740
JAKE ARCHIBALD: As you say, the
emulators we have, because

1228
00:38:35,740 --> 00:38:39,110
they're actual emulators, they
will accurately show you the

1229
00:38:39,110 --> 00:38:40,890
rendering, but they won't
accurately show you the

1230
00:38:40,890 --> 00:38:41,760
performance.

1231
00:38:41,760 --> 00:38:42,540
PAUL KINLAN: Yeah.

1232
00:38:42,540 --> 00:38:45,290
JAKE ARCHIBALD: iOS, the dev
simulator is a simulator.

1233
00:38:45,290 --> 00:38:48,400
It's using the underlying
rendering in Mac OS.

1234
00:38:48,400 --> 00:38:50,500
So your rendering might be
slightly different, and your

1235
00:38:50,500 --> 00:38:53,530
performance will be the
performance of your desktop

1236
00:38:53,530 --> 00:38:54,990
machine rather than
[INAUDIBLE]

1237
00:38:54,990 --> 00:38:55,290
in mobile.

1238
00:38:55,290 --> 00:38:56,890
So you need to test them.

1239
00:38:56,890 --> 00:39:00,880
And neither of them give you
the same kind of touch

1240
00:39:00,880 --> 00:39:02,670
experience that using an
actual device will.

1241
00:39:02,670 --> 00:39:04,090
PAUL KINLAN: OK.

1242
00:39:04,090 --> 00:39:05,200
We'll do a couple more.

1243
00:39:05,200 --> 00:39:06,930
We'll try and get through
a couple more.

1244
00:39:06,930 --> 00:39:09,320
A while ago there was a
discussion about the best

1245
00:39:09,320 --> 00:39:10,860
approaches for responsive
images, the best way

1246
00:39:10,860 --> 00:39:11,870
to defer load in.

1247
00:39:11,870 --> 00:39:13,670
Is there a de facto standard
yet, in your opinion?

1248
00:39:13,670 --> 00:39:14,340
I No.

1249
00:39:14,340 --> 00:39:15,540
There's no de facto standard.

1250
00:39:15,540 --> 00:39:15,970
JAKE ARCHIBALD: Nah.

1251
00:39:15,970 --> 00:39:17,410
PAUL KINLAN: We showed you
in the BBC before.

1252
00:39:17,410 --> 00:39:19,420
They do an image replacement
technique with some

1253
00:39:19,420 --> 00:39:20,380
JavaScript.

1254
00:39:20,380 --> 00:39:22,560
If you actually use the devtools
and go in and inspect

1255
00:39:22,560 --> 00:39:23,770
what they do, it's actually
pretty cool.

1256
00:39:23,770 --> 00:39:27,065
They work out the viewport size
or the image size and

1257
00:39:27,065 --> 00:39:29,030
then work out which ones are
the best ones to display.

1258
00:39:29,030 --> 00:39:30,350
JAKE ARCHIBALD: There's
matchMedia.

1259
00:39:30,350 --> 00:39:35,340
matchMedia will let you do
a CSS media query test in

1260
00:39:35,340 --> 00:39:35,920
JavaScript.

1261
00:39:35,920 --> 00:39:37,520
And that's really
useful for that.

1262
00:39:37,520 --> 00:39:38,670
PAUL KINLAN: Yeah.

1263
00:39:38,670 --> 00:39:41,390
There's a webkit image set
tag which you can use.

1264
00:39:41,390 --> 00:39:44,250
And we've got a little hack,
which we'll share later on.

1265
00:39:44,250 --> 00:39:46,220
I actually did it on Twitter
the other day where you can

1266
00:39:46,220 --> 00:39:50,820
display a two times pixel ratio
image and all those

1267
00:39:50,820 --> 00:39:52,790
types of things.

1268
00:39:52,790 --> 00:39:55,360
But it's only responsive to
pixel density and not any

1269
00:39:55,360 --> 00:39:56,620
other context.

1270
00:39:56,620 --> 00:39:59,750
So there is none, and there's
no implementations, and

1271
00:39:59,750 --> 00:40:01,230
there's no implementations
of [INAUDIBLE]

1272
00:40:01,230 --> 00:40:03,180
yet, which I believe is
the other one as well.

1273
00:40:03,180 --> 00:40:03,465
JAKE ARCHIBALD: Yeah.

1274
00:40:03,465 --> 00:40:05,620
If you're using CSS backgrounds,
then you can

1275
00:40:05,620 --> 00:40:06,950
obviously just use
media queries.

1276
00:40:06,950 --> 00:40:08,880
And there's also one for
device-pixel ratio.

1277
00:40:08,880 --> 00:40:09,000
PAUL KINLAN: Yeah.

1278
00:40:09,000 --> 00:40:11,120
But the problem with
backgrounds, is if you do an

1279
00:40:11,120 --> 00:40:13,330
image, for instance, like the
alt tag comes through still

1280
00:40:13,330 --> 00:40:14,390
with a lot of other stuff.

1281
00:40:14,390 --> 00:40:14,790
JAKE ARCHIBALD: Yeah.

1282
00:40:14,790 --> 00:40:17,020
PAUL KINLAN: So it's a pain.

1283
00:40:17,020 --> 00:40:17,101
JAKE ARCHIBALD: Yeah.

1284
00:40:17,101 --> 00:40:20,820
I wouldn't recommend using CSS
for content images just

1285
00:40:20,820 --> 00:40:23,400
because it's more convenient
to switch them

1286
00:40:23,400 --> 00:40:24,070
at different widths.

1287
00:40:24,070 --> 00:40:24,820
PAUL KINLAN: Yeah.

1288
00:40:24,820 --> 00:40:26,660
JAKE ARCHIBALD: Look at what
the BBC have done.

1289
00:40:26,660 --> 00:40:27,990
PAUL KINLAN: It looks nice.

1290
00:40:27,990 --> 00:40:29,550
It looks like the old gifs--

1291
00:40:29,550 --> 00:40:30,190
Or gifs?

1292
00:40:30,190 --> 00:40:30,730
I don't know.

1293
00:40:30,730 --> 00:40:30,990
JAKE ARCHIBALD: Gifs.

1294
00:40:30,990 --> 00:40:31,760
Definitely gifs.

1295
00:40:31,760 --> 00:40:32,390
PAUL KINLAN: Yeah, gif.

1296
00:40:32,390 --> 00:40:35,030
But it's gifs in "Doom,"
not gif.

1297
00:40:35,030 --> 00:40:36,630
Anyway, next question.

1298
00:40:36,630 --> 00:40:39,170

1299
00:40:39,170 --> 00:40:41,670
I use Adobe Edge and weinre to
inspect mobile devices, which

1300
00:40:41,670 --> 00:40:42,450
I'm finding useful.

1301
00:40:42,450 --> 00:40:44,220
Is it possible to do something
similar in devtools?

1302
00:40:44,220 --> 00:40:44,900
Yes.

1303
00:40:44,900 --> 00:40:47,040
We've just shown you.

1304
00:40:47,040 --> 00:40:47,700
That's the next one.

1305
00:40:47,700 --> 00:40:50,190
Currently building an entire
JavaScript app for mobile.

1306
00:40:50,190 --> 00:40:52,035
Is mobile generally up to the
process in rendering?

1307
00:40:52,035 --> 00:40:53,930
And how can I optimize
for mobile?

1308
00:40:53,930 --> 00:40:55,820
From Simon Smith in London.

1309
00:40:55,820 --> 00:40:58,075
And I guess his age is 26.

1310
00:40:58,075 --> 00:40:58,910
JAKE ARCHIBALD: Oh, 26.

1311
00:40:58,910 --> 00:40:59,300
PAUL KINLAN: 34?

1312
00:40:59,300 --> 00:41:00,080
JAKE ARCHIBALD: That's
younger than me.

1313
00:41:00,080 --> 00:41:01,490
Well done.

1314
00:41:01,490 --> 00:41:02,030
PAUL KINLAN: Anyway.

1315
00:41:02,030 --> 00:41:07,110
So I think it all depends on the
operations that you do and

1316
00:41:07,110 --> 00:41:08,240
you need to test.

1317
00:41:08,240 --> 00:41:09,920
We find that things like
box-shadow that you showed

1318
00:41:09,920 --> 00:41:13,640
before and a whole lot of other
stuff can cause issues.

1319
00:41:13,640 --> 00:41:15,875
Box-shadow and border-radius
and a couple of other ones.

1320
00:41:15,875 --> 00:41:16,140
JAKE ARCHIBALD: Yeah.

1321
00:41:16,140 --> 00:41:18,240
PAUL KINLAN: And it changes,
because as the browsers update

1322
00:41:18,240 --> 00:41:19,850
the performance profiles
change as well.

1323
00:41:19,850 --> 00:41:22,270
So you're going to have to keep
testing a little bit.

1324
00:41:22,270 --> 00:41:24,370
Process and rendering, yeah,
they're actually pretty good.

1325
00:41:24,370 --> 00:41:26,650
If you do it right,
it's pretty good.

1326
00:41:26,650 --> 00:41:27,675
But you've got to test,
and you've got

1327
00:41:27,675 --> 00:41:28,590
to test on the devices.

1328
00:41:28,590 --> 00:41:30,320
I don't think there's any real
way of getting around it,

1329
00:41:30,320 --> 00:41:32,580
because devices are different.

1330
00:41:32,580 --> 00:41:33,900
Desktops are different.

1331
00:41:33,900 --> 00:41:35,670
Tablets are different.

1332
00:41:35,670 --> 00:41:36,845
Everything's different.

1333
00:41:36,845 --> 00:41:37,160
JAKE ARCHIBALD: Yeah.

1334
00:41:37,160 --> 00:41:39,800
JavaScript's not your problem,
really, anymore.

1335
00:41:39,800 --> 00:41:41,140
And we heard [INAUDIBLE]
guys are

1336
00:41:41,140 --> 00:41:43,360
saying that it's rendering.

1337
00:41:43,360 --> 00:41:45,560
Because the JavaScript engines,
even on a mobile

1338
00:41:45,560 --> 00:41:50,230
device, are pretty fast,
unless you're doing ray

1339
00:41:50,230 --> 00:41:52,220
tracing or trying
to do something

1340
00:41:52,220 --> 00:41:53,750
like gzip on the clients.

1341
00:41:53,750 --> 00:41:54,940
Yeah, you're going to run
into problems there.

1342
00:41:54,940 --> 00:41:57,700
But for general website use,
JavaScript's not you problem.

1343
00:41:57,700 --> 00:42:00,770
You might run into rendering,
but devtools will tell you

1344
00:42:00,770 --> 00:42:01,960
where the rendering
problems are.

1345
00:42:01,960 --> 00:42:03,970
Even something like a
box-shadow, once you've drawn

1346
00:42:03,970 --> 00:42:07,490
it, as long as you're not
changing the shape and size of

1347
00:42:07,490 --> 00:42:09,542
it, it draws once and it
stays in memory so

1348
00:42:09,542 --> 00:42:10,842
it's less smooth scrolling.

1349
00:42:10,842 --> 00:42:11,500
PAUL KINLAN: I don't know.

1350
00:42:11,500 --> 00:42:16,050
I've seen HTML5 Rocks go slow
because of the scrolling.

1351
00:42:16,050 --> 00:42:16,610
I don't know.

1352
00:42:16,610 --> 00:42:18,060
It's horses for courses
sometimes.

1353
00:42:18,060 --> 00:42:18,446
JAKE ARCHIBALD: Yeah.

1354
00:42:18,446 --> 00:42:21,350
PAUL KINLAN: And it depends.

1355
00:42:21,350 --> 00:42:23,040
Next question, [INAUDIBLE]
in Chile.

1356
00:42:23,040 --> 00:42:25,450
Any link for more resources
about mobile

1357
00:42:25,450 --> 00:42:27,330
dev with Chrome devtools?

1358
00:42:27,330 --> 00:42:28,480
We haven't got anything
dedicated.

1359
00:42:28,480 --> 00:42:35,945
We've got developers.googl
e.com/chrome/mobile.

1360
00:42:35,945 --> 00:42:38,920
It is literally just the
devtools, so anything that you

1361
00:42:38,920 --> 00:42:39,980
do with devtools.

1362
00:42:39,980 --> 00:42:42,060
We should probably get some
performance articles written

1363
00:42:42,060 --> 00:42:44,125
about how to actually do better
mobile debugging and

1364
00:42:44,125 --> 00:42:44,810
everything.

1365
00:42:44,810 --> 00:42:47,510
JAKE ARCHIBALD: And so have a
look on YouTube for talks by

1366
00:42:47,510 --> 00:42:50,070
there's a new young developer
called Paul Irish.

1367
00:42:50,070 --> 00:42:52,020
And he's done quite a few
interesting talks about this

1368
00:42:52,020 --> 00:42:52,560
stuff, hasn't he?

1369
00:42:52,560 --> 00:42:52,836
PAUL KINLAN: Yeah.

1370
00:42:52,836 --> 00:42:53,700
And [INAUDIBLE] has as well.

1371
00:42:53,700 --> 00:42:54,650
JAKE ARCHIBALD: Yes.

1372
00:42:54,650 --> 00:42:55,740
PAUL KINLAN: So if you
ever see [INAUDIBLE]

1373
00:42:55,740 --> 00:42:57,000
ask him to do his Paul
Irish impression.

1374
00:42:57,000 --> 00:42:57,760
It's brilliant.

1375
00:42:57,760 --> 00:42:58,480
JAKE ARCHIBALD: Very,
very good.

1376
00:42:58,480 --> 00:43:01,380
PAUL KINLAN: Yeah.

1377
00:43:01,380 --> 00:43:01,510
Right.

1378
00:43:01,510 --> 00:43:03,450
I want to get one more in.

1379
00:43:03,450 --> 00:43:06,300
Patrick H. Lauke.

1380
00:43:06,300 --> 00:43:07,000
JAKE ARCHIBALD: I
know Patrick.

1381
00:43:07,000 --> 00:43:07,580
PAUL KINLAN: Yes.

1382
00:43:07,580 --> 00:43:09,190
And he actually sent
a tweet in before.

1383
00:43:09,190 --> 00:43:10,040
JAKE ARCHIBALD: Did he?

1384
00:43:10,040 --> 00:43:10,390
PAUL KINLAN: Yes.

1385
00:43:10,390 --> 00:43:12,560
I'm About the other TV presenter
you look like.

1386
00:43:12,560 --> 00:43:13,570
And it was rather amusing.

1387
00:43:13,570 --> 00:43:14,700
JAKE ARCHIBALD: Yes.

1388
00:43:14,700 --> 00:43:15,670
PAUL KINLAN: So let's
look at this one.

1389
00:43:15,670 --> 00:43:19,310
With mobile devices often having
limited memory, care to

1390
00:43:19,310 --> 00:43:21,040
comment about not just
compressing and minimizing

1391
00:43:21,040 --> 00:43:23,810
files over the AIR gzip but
actually caring about the

1392
00:43:23,810 --> 00:43:25,190
deflated file size?

1393
00:43:25,190 --> 00:43:26,530
So this for processing
it actually onto

1394
00:43:26,530 --> 00:43:29,450
the device in memory.

1395
00:43:29,450 --> 00:43:31,050
Can I start with that one?

1396
00:43:31,050 --> 00:43:33,110
JAKE ARCHIBALD: Whatever,
mate.

1397
00:43:33,110 --> 00:43:33,980
Yeah, go on.

1398
00:43:33,980 --> 00:43:36,720
PAUL KINLAN: Whatever.

1399
00:43:36,720 --> 00:43:42,470
So we've seen this with devices
with different pixel

1400
00:43:42,470 --> 00:43:45,080
ratios where a pixel isn't
a pixel anymore.

1401
00:43:45,080 --> 00:43:47,700
We've seen that image decode
and resize happens

1402
00:43:47,700 --> 00:43:49,050
when you have to--

1403
00:43:49,050 --> 00:43:50,750
The image decode always happens,
so the bigger the

1404
00:43:50,750 --> 00:43:52,800
image the longer it
takes to decode.

1405
00:43:52,800 --> 00:43:55,430
And if it takes it a long time
on a desktop machine to

1406
00:43:55,430 --> 00:43:58,510
decode, it's going to take even
longer on a phone or a

1407
00:43:58,510 --> 00:44:00,070
tablet to decode.

1408
00:44:00,070 --> 00:44:03,380
But we've also seen resizes
happen where if it's not done

1409
00:44:03,380 --> 00:44:08,220
at the same DPI, essentially,
as the target device then it

1410
00:44:08,220 --> 00:44:09,410
has to do a resize.

1411
00:44:09,410 --> 00:44:11,640
So if it knows it's 500 pixels,
it has to actually

1412
00:44:11,640 --> 00:44:14,375
double it to 1,000 pixels, in
theory, behind the scenes.

1413
00:44:14,375 --> 00:44:16,600
JAKE ARCHIBALD: But with all
the different DPIs that we

1414
00:44:16,600 --> 00:44:19,300
have on devices now,
it's truly nearly

1415
00:44:19,300 --> 00:44:20,745
impossible to avoid.

1416
00:44:20,745 --> 00:44:24,410
PAUL KINLAN: Well, you could
have a 1.33333337.

1417
00:44:24,410 --> 00:44:26,040
JAKE ARCHIBALD: You could
generate them on the server, I

1418
00:44:26,040 --> 00:44:27,960
guess, if it was a problem
on a particular--

1419
00:44:27,960 --> 00:44:28,370
PAUL KINLAN: Yeah.

1420
00:44:28,370 --> 00:44:31,740
I know Page Speed tries to do
things like this, the Page

1421
00:44:31,740 --> 00:44:32,740
Speed services and everything.

1422
00:44:32,740 --> 00:44:35,110
They try and optimize the size
for the container and a whole

1423
00:44:35,110 --> 00:44:35,780
load of other stuff--

1424
00:44:35,780 --> 00:44:36,280
JAKE ARCHIBALD: That
makes sense.

1425
00:44:36,280 --> 00:44:37,060
PAUL KINLAN: --and the
device format.

1426
00:44:37,060 --> 00:44:39,140
But it's hard man, especially
when you're on the other side

1427
00:44:39,140 --> 00:44:41,890
of the server where you don't
quite know the device

1428
00:44:41,890 --> 00:44:44,530
characteristics unless you've
got them in a big database.

1429
00:44:44,530 --> 00:44:47,350
So how would you
deal with that?

1430
00:44:47,350 --> 00:44:49,920
JAKE ARCHIBALD: I think it's
down to the browser

1431
00:44:49,920 --> 00:44:50,900
developers.

1432
00:44:50,900 --> 00:44:52,620
It's not our problem.

1433
00:44:52,620 --> 00:44:53,930
Go and fix image resizing.

1434
00:44:53,930 --> 00:44:55,480
I know they're looking at it.

1435
00:44:55,480 --> 00:44:57,490
And it's something that
will get a lot better.

1436
00:44:57,490 --> 00:44:58,880
PAUL KINLAN: I think that's
actually one thing that we

1437
00:44:58,880 --> 00:45:02,400
haven't really touched upon
is the time to decode CSS

1438
00:45:02,400 --> 00:45:04,885
JavaScript in its raw form.

1439
00:45:04,885 --> 00:45:06,500
JAKE ARCHIBALD: So the BBC do
something very interesting,

1440
00:45:06,500 --> 00:45:08,750
and it's kind of similar
to something I did

1441
00:45:08,750 --> 00:45:09,790
when I was at Lanyrd.

1442
00:45:09,790 --> 00:45:14,260
We do a basic feature detect
in the head of the page and

1443
00:45:14,260 --> 00:45:18,165
for what we think the site needs
to run the JavaScript

1444
00:45:18,165 --> 00:45:18,660
we're running.

1445
00:45:18,660 --> 00:45:21,390
So I think for me it was
AppCache and local storage.

1446
00:45:21,390 --> 00:45:24,130
For the BBC, I think they look
at JSON and some other stuff.

1447
00:45:24,130 --> 00:45:26,750
And if the browser fails those
tests, don't load any

1448
00:45:26,750 --> 00:45:27,035
JavaScript.

1449
00:45:27,035 --> 00:45:27,730
PAUL KINLAN: Yeah.

1450
00:45:27,730 --> 00:45:29,070
JAKE ARCHIBALD: And because
the site works without

1451
00:45:29,070 --> 00:45:30,680
JavaScript--

1452
00:45:30,680 --> 00:45:32,538
The browsers that are going to
fail, though, are going to be

1453
00:45:32,538 --> 00:45:33,350
old browsers.

1454
00:45:33,350 --> 00:45:35,460
Those old browsers are going
to be slow at pausing

1455
00:45:35,460 --> 00:45:36,580
JavaScript.

1456
00:45:36,580 --> 00:45:39,300
We saw on old BlackBerrys--

1457
00:45:39,300 --> 00:45:40,750
and we weren't running
any scripts, we were

1458
00:45:40,750 --> 00:45:41,700
just pausing it--

1459
00:45:41,700 --> 00:45:44,620
was causing like a 5 to
10 second delay on

1460
00:45:44,620 --> 00:45:45,750
just loading a page.

1461
00:45:45,750 --> 00:45:47,240
And caching doesn't
help with that.

1462
00:45:47,240 --> 00:45:49,180
That's going to hit
every single page.

1463
00:45:49,180 --> 00:45:51,600
So yeah, if you can
conditionally load JavaScript

1464
00:45:51,600 --> 00:45:54,200
or conditionally load content
as well, that

1465
00:45:54,200 --> 00:45:55,152
works really well.

1466
00:45:55,152 --> 00:45:56,390
PAUL KINLAN: Cool.

1467
00:45:56,390 --> 00:45:58,590
JAKE ARCHIBALD: But what I would
say don't do is don't

1468
00:45:58,590 --> 00:46:01,470
lazyload content on a
mobile device unless

1469
00:46:01,470 --> 00:46:02,970
it is a huge chunk.

1470
00:46:02,970 --> 00:46:05,660
Because if you're scrolling down
a page and you're loading

1471
00:46:05,660 --> 00:46:08,825
in imagery as it appears, that's
quite good on desktops.

1472
00:46:08,825 --> 00:46:11,590
But on mobile, if you're
on cellular data--

1473
00:46:11,590 --> 00:46:12,680
I guess the same would
apply for a

1474
00:46:12,680 --> 00:46:16,650
desktop on cellular data--

1475
00:46:16,650 --> 00:46:18,130
the cell falls asleep.

1476
00:46:18,130 --> 00:46:20,000
The radio falls asleep.

1477
00:46:20,000 --> 00:46:22,280
PAUL KINLAN: I'm falling
asleep right now.

1478
00:46:22,280 --> 00:46:23,270
JAKE ARCHIBALD: Yeah.

1479
00:46:23,270 --> 00:46:25,210
I'm boring myself, actually.

1480
00:46:25,210 --> 00:46:28,110
The cell falls asleep, the radio
falls asleep, and then a

1481
00:46:28,110 --> 00:46:28,927
new thing goes to load.

1482
00:46:28,927 --> 00:46:30,510
It has to be woken up.

1483
00:46:30,510 --> 00:46:34,030
And before it wakes up, it wants
its breakfast, and its

1484
00:46:34,030 --> 00:46:35,650
breakfast is your
battery life.

1485
00:46:35,650 --> 00:46:38,050
So it does all that, and then
it'll go and download stuff.

1486
00:46:38,050 --> 00:46:40,970
So lazyloading can seem like,
yeah, this is going to

1487
00:46:40,970 --> 00:46:41,590
speed things up.

1488
00:46:41,590 --> 00:46:43,540
Just load stuff when
it's necessary.

1489
00:46:43,540 --> 00:46:46,570
On cell data, on mobile
3G, whatever--

1490
00:46:46,570 --> 00:46:48,890
PAUL KINLAN: But if you lazyload
at the start of the

1491
00:46:48,890 --> 00:46:50,370
page, it's not going to make
that much difference, right?

1492
00:46:50,370 --> 00:46:51,200
JAKE ARCHIBALD: Start
of the page is fine.

1493
00:46:51,200 --> 00:46:53,530
As long as it's roughly
the same time--

1494
00:46:53,530 --> 00:46:54,910
PAUL KINLAN: So what you're
saying, though, is anything

1495
00:46:54,910 --> 00:46:58,390
with Ajax-based refresh is
going to be potentially a

1496
00:46:58,390 --> 00:46:59,952
performance killer or
a battery killer.

1497
00:46:59,952 --> 00:47:00,279
JAKE ARCHIBALD: Yeah.

1498
00:47:00,279 --> 00:47:02,290
And if you can get away with
sending it all down the wire

1499
00:47:02,290 --> 00:47:05,670
to start and it's not too much,
then I would do that.

1500
00:47:05,670 --> 00:47:06,370
PAUL KINLAN: It would be
interesting to know well

1501
00:47:06,370 --> 00:47:09,050
service and events
work and whether

1502
00:47:09,050 --> 00:47:10,550
they keep the battery--

1503
00:47:10,550 --> 00:47:11,376
I don't know.

1504
00:47:11,376 --> 00:47:12,770
It'd be interesting.

1505
00:47:12,770 --> 00:47:15,660
So actually, that's a
good time to finish.

1506
00:47:15,660 --> 00:47:16,070
JAKE ARCHIBALD: OK.

1507
00:47:16,070 --> 00:47:17,420
PAUL KINLAN: I think.

1508
00:47:17,420 --> 00:47:19,370
You just yammered on like
crazy for ages, man.

1509
00:47:19,370 --> 00:47:19,880
It was terrible.

1510
00:47:19,880 --> 00:47:21,310
JAKE ARCHIBALD: I'm
going to the pub.

1511
00:47:21,310 --> 00:47:24,010
PAUL KINLAN: So what we're doing
is a series of podcasts.

1512
00:47:24,010 --> 00:47:25,100
We're going to have a cycle.

1513
00:47:25,100 --> 00:47:26,610
So the next performance
one is going to be

1514
00:47:26,610 --> 00:47:27,700
in a couple of weeks.

1515
00:47:27,700 --> 00:47:29,730
I know Jake's got a
lot more content.

1516
00:47:29,730 --> 00:47:34,740
He prepared it a lot today,
and we ran over.

1517
00:47:34,740 --> 00:47:35,340
JAKE ARCHIBALD: Join
us next time.

1518
00:47:35,340 --> 00:47:35,670
PAUL KINLAN: So we're definitely
going to do another

1519
00:47:35,670 --> 00:47:36,290
performance one.

1520
00:47:36,290 --> 00:47:39,040
We'd like to hear from you to
understand what kind of things

1521
00:47:39,040 --> 00:47:42,680
you want to hear us talk about
around, I suppose, the client

1522
00:47:42,680 --> 00:47:44,010
side of the performance.

1523
00:47:44,010 --> 00:47:46,100
[INAUDIBLE] is going to talk
about networking and network

1524
00:47:46,100 --> 00:47:49,580
performance, and we don't want
to go over that too much.

1525
00:47:49,580 --> 00:47:52,690
But building performance user
experiences and user

1526
00:47:52,690 --> 00:47:54,460
interfaces, we want to know what
you want to hear about,

1527
00:47:54,460 --> 00:47:56,670
the problems that you're having,
so that we can address

1528
00:47:56,670 --> 00:48:00,650
them in articles and also in
videos and programs like this.

1529
00:48:00,650 --> 00:48:05,900
I think next week is Sam, our
producer, who's actually been

1530
00:48:05,900 --> 00:48:07,320
switching all the buttons
for us today and

1531
00:48:07,320 --> 00:48:08,210
helping us out loads.

1532
00:48:08,210 --> 00:48:10,920
What are we talking about
next week, Sam?

1533
00:48:10,920 --> 00:48:11,510
Devtools?

1534
00:48:11,510 --> 00:48:11,840
SAM DUTTON: Yeah.

1535
00:48:11,840 --> 00:48:12,630
That'll do.

1536
00:48:12,630 --> 00:48:13,780
PAUL KINLAN: Devtools or OWP.

1537
00:48:13,780 --> 00:48:15,870
We'll send out a
tweet later on.

1538
00:48:15,870 --> 00:48:18,540
But it's going to be good, and
we'll ask you for questions

1539
00:48:18,540 --> 00:48:20,740
that you want answered
live as well.

1540
00:48:20,740 --> 00:48:22,320
And then we'll do this
one again in a

1541
00:48:22,320 --> 00:48:23,340
couple of weeks' time.

1542
00:48:23,340 --> 00:48:25,000
JAKE ARCHIBALD: It's Sam's first
time producing as well

1543
00:48:25,000 --> 00:48:25,530
on one of these things.

1544
00:48:25,530 --> 00:48:26,500
PAUL KINLAN: Yes.

1545
00:48:26,500 --> 00:48:27,680
JAKE ARCHIBALD: It's
his first time.

1546
00:48:27,680 --> 00:48:28,130
It's my first time.

1547
00:48:28,130 --> 00:48:28,530
PAUL KINLAN: You
are producing--

1548
00:48:28,530 --> 00:48:29,000
JAKE ARCHIBALD: That's
pretty romantic.

1549
00:48:29,000 --> 00:48:29,570
PAUL KINLAN: --next week.

1550
00:48:29,570 --> 00:48:31,482
JAKE ARCHIBALD: I'm not
producing next week.

1551
00:48:31,482 --> 00:48:32,140
PAUL KINLAN: You are.

1552
00:48:32,140 --> 00:48:32,910
SAM DUTTON: Oh, yes, you are.

1553
00:48:32,910 --> 00:48:34,410
PAUL KINLAN: Yes.

1554
00:48:34,410 --> 00:48:37,050
Next week, if you see it just
changed to a picture of, I

1555
00:48:37,050 --> 00:48:39,474
don't know, whatever,
that's Jake.

1556
00:48:39,474 --> 00:48:40,710
JAKE ARCHIBALD: Yeah.

1557
00:48:40,710 --> 00:48:41,210
So

1558
00:48:41,210 --> 00:48:44,540
PAUL KINLAN: Anyway, with that,
I think we're finished.

1559
00:48:44,540 --> 00:48:45,610
And we would like
to say goodbye.

1560
00:48:45,610 --> 00:48:46,690
Well, I would like
to say goodbye.

1561
00:48:46,690 --> 00:48:47,970
What would you like to say?

1562
00:48:47,970 --> 00:48:48,740
JAKE ARCHIBALD: Hello.

1563
00:48:48,740 --> 00:48:49,520
How's it going?

1564
00:48:49,520 --> 00:48:50,970
Do you want to go for a drink?

1565
00:48:50,970 --> 00:48:51,890
PAUL KINLAN: Yeah.

1566
00:48:51,890 --> 00:48:54,860
JAKE ARCHIBALD: I think you've
got a great sense of humor.

1567
00:48:54,860 --> 00:48:55,080
PAUL KINLAN: OK.

1568
00:48:55,080 --> 00:48:57,380
With that, then we'll
see you soon.

1569
00:48:57,380 --> 00:48:58,280
JAKE ARCHIBALD: Thank
you very much.

1570
00:48:58,280 --> 00:48:58,810
PAUL KINLAN: Bye bye.

1571
00:48:58,810 --> 00:49:00,060
JAKE ARCHIBALD: Bye bye.

1572
00:49:00,060 --> 00:49:21,843

