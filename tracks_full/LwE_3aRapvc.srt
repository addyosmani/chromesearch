1
00:00:00,000 --> 00:00:00,355

2
00:00:00,355 --> 00:00:02,900
PALLAVI NARESH: Good afternoon,
everyone.

3
00:00:02,900 --> 00:00:03,960
My name is Pallavi Naresh.

4
00:00:03,960 --> 00:00:06,750
And I'm a product manager
at Google.

5
00:00:06,750 --> 00:00:09,300
I'm joined here by my
colleagues, David Butcher and

6
00:00:09,300 --> 00:00:12,580
Johnie Lee, software engineers
at Google.

7
00:00:12,580 --> 00:00:14,940
Now, how many of you guys were
able to attend the last

8
00:00:14,940 --> 00:00:17,970
session where we introduced
the Wallet Objects API?

9
00:00:17,970 --> 00:00:20,370
Great, a good number of you.

10
00:00:20,370 --> 00:00:22,810
Today, we're going to be talking
about redefining

11
00:00:22,810 --> 00:00:26,405
loyalty for the mobile age using
the Wallet Objects API.

12
00:00:26,405 --> 00:00:29,470

13
00:00:29,470 --> 00:00:33,960
The Wallet Objects API is an
extensible platform that lets

14
00:00:33,960 --> 00:00:37,400
you take anything from your
real world wallet--

15
00:00:37,400 --> 00:00:40,950
loyalty, offers, and more--

16
00:00:40,950 --> 00:00:43,185
and put it in your Google
Wallet in the cloud.

17
00:00:43,185 --> 00:00:45,830

18
00:00:45,830 --> 00:00:49,430
Now today, we're going to
be focused on loyalty.

19
00:00:49,430 --> 00:00:50,850
Why?

20
00:00:50,850 --> 00:00:54,400
Because when we talk to our
users and we talk to them

21
00:00:54,400 --> 00:00:57,790
about digitizing the real world
wallet, the thing they

22
00:00:57,790 --> 00:01:01,910
are most excited about are the
implications for all the

23
00:01:01,910 --> 00:01:04,790
loyalty cards they
carry around or

24
00:01:04,790 --> 00:01:06,040
forget to carry around.

25
00:01:06,040 --> 00:01:08,610

26
00:01:08,610 --> 00:01:11,250
We're going to start with an
overview of the problems that

27
00:01:11,250 --> 00:01:15,370
exist with loyalty and how
we at Google can help.

28
00:01:15,370 --> 00:01:19,200
Now, if you're not developing
for a loyalty program, stick

29
00:01:19,200 --> 00:01:21,410
around, because we're going to
give you an overview of the

30
00:01:21,410 --> 00:01:24,750
Wallet Objects platform and
walk you through a live

31
00:01:24,750 --> 00:01:29,680
integration with our featured
partner, Marriott Rewards.

32
00:01:29,680 --> 00:01:32,730
This will give you a good
overview of what it takes to

33
00:01:32,730 --> 00:01:36,540
use the Wallet Objects API, both
for loyalty as well as

34
00:01:36,540 --> 00:01:37,790
other use cases.

35
00:01:37,790 --> 00:01:41,270

36
00:01:41,270 --> 00:01:45,060
So what are the problems that
exist with loyalty?

37
00:01:45,060 --> 00:01:48,860
Well, first, we have
too many cards.

38
00:01:48,860 --> 00:01:52,160
We can't carry them all
around with us.

39
00:01:52,160 --> 00:01:55,165
And often, we forget them when
we need them the most.

40
00:01:55,165 --> 00:01:58,170

41
00:01:58,170 --> 00:02:01,680
On the flip side, when we want
to sign up for a new

42
00:02:01,680 --> 00:02:04,060
program, it's hard.

43
00:02:04,060 --> 00:02:08,210
There are long forms to fill
out by hand at the worst

44
00:02:08,210 --> 00:02:10,440
possible time.

45
00:02:10,440 --> 00:02:11,630
Picture this.

46
00:02:11,630 --> 00:02:14,090
You've just taken
a long flight.

47
00:02:14,090 --> 00:02:16,480
You show up at your hotel.

48
00:02:16,480 --> 00:02:20,210
You're not a member of the
loyalty program, but you want

49
00:02:20,210 --> 00:02:23,000
to get points for your stay.

50
00:02:23,000 --> 00:02:25,750
You also want to get to bed.

51
00:02:25,750 --> 00:02:28,825
This is the worst time to
fill out more paperwork.

52
00:02:28,825 --> 00:02:31,990

53
00:02:31,990 --> 00:02:35,650
And finally, it's hard to keep
track of all the benefits

54
00:02:35,650 --> 00:02:40,760
we're accruing across all the
programs we're members of.

55
00:02:40,760 --> 00:02:48,530
Over 16 billion points go unused
in the US every year.

56
00:02:48,530 --> 00:02:49,780
That's a lot of money.

57
00:02:49,780 --> 00:02:52,160

58
00:02:52,160 --> 00:02:54,260
So how can we at Google help?

59
00:02:54,260 --> 00:02:56,140
And how can you help if
you're developing

60
00:02:56,140 --> 00:02:57,390
for a loyalty program?

61
00:02:57,390 --> 00:02:59,770

62
00:02:59,770 --> 00:03:05,070
Your program in Google Wallet,
a single place for consumers

63
00:03:05,070 --> 00:03:09,310
to track all of their loyalty
cards, geo-triggered around

64
00:03:09,310 --> 00:03:13,430
your business so that your
customers never have to forget

65
00:03:13,430 --> 00:03:15,430
their card at home again.

66
00:03:15,430 --> 00:03:18,010

67
00:03:18,010 --> 00:03:19,620
Instant enrollment--

68
00:03:19,620 --> 00:03:24,140
acquire new customers instantly
from the phone, also

69
00:03:24,140 --> 00:03:28,410
geo-triggered so the sign up
screen is waiting for them as

70
00:03:28,410 --> 00:03:29,660
they walk through your doors.

71
00:03:29,660 --> 00:03:32,400

72
00:03:32,400 --> 00:03:36,190
And deeper engagement with your
existing customers and

73
00:03:36,190 --> 00:03:38,990
your new customers.

74
00:03:38,990 --> 00:03:43,740
Point updates, account
updates in real time.

75
00:03:43,740 --> 00:03:49,260
Details on when your loyalty
rewards are going to expire.

76
00:03:49,260 --> 00:03:53,680
So your customers never have to
worry about letting those

77
00:03:53,680 --> 00:03:56,080
points go unused.

78
00:03:56,080 --> 00:03:59,450
And personalized messages
delivered right on the phone.

79
00:03:59,450 --> 00:04:02,060

80
00:04:02,060 --> 00:04:05,380
The best part about all this
is that it's an easy

81
00:04:05,380 --> 00:04:10,390
integration into your existing
loyalty systems.

82
00:04:10,390 --> 00:04:13,870
I hope you're as excited about
the platform as we are.

83
00:04:13,870 --> 00:04:16,640
I'm going to give it over to
David to walk you through a

84
00:04:16,640 --> 00:04:19,680
technical overview.

85
00:04:19,680 --> 00:04:20,930
DAVID BUTCHER: Thanks,
Pallavi.

86
00:04:20,930 --> 00:04:24,680

87
00:04:24,680 --> 00:04:28,400
So this platform API is in the
form of a REST service.

88
00:04:28,400 --> 00:04:29,700
So it's resource oriented.

89
00:04:29,700 --> 00:04:31,910
So I'm going to spend a little
time on the two main

90
00:04:31,910 --> 00:04:35,630
resources, the first of which
is the Wallet Object class.

91
00:04:35,630 --> 00:04:38,770
The second is the instance or
the object, and we'll get that

92
00:04:38,770 --> 00:04:40,920
in the subsequent slide.

93
00:04:40,920 --> 00:04:45,410
The idea here is that it's
REST via JSON over HTTP.

94
00:04:45,410 --> 00:04:48,150
We see in front of us some JSON
for a particular class.

95
00:04:48,150 --> 00:04:51,170
The Wallet Object class is
defining the shared data for a

96
00:04:51,170 --> 00:04:54,720
single program which is going
to have many cards in it.

97
00:04:54,720 --> 00:04:57,620
The Wallet Object class is
defining some of the shared

98
00:04:57,620 --> 00:05:00,770
data like, for example, here
we see the issuer name, the

99
00:05:00,770 --> 00:05:03,850
program name, Marriott Rewards,
the rewards tier.

100
00:05:03,850 --> 00:05:07,016
There presumably would be a
class per rewards tier so that

101
00:05:07,016 --> 00:05:08,970
there could be a little bit
different look and feel for

102
00:05:08,970 --> 00:05:11,100
the different tiers.

103
00:05:11,100 --> 00:05:14,510
And it also maps to the specific
look and feel that's

104
00:05:14,510 --> 00:05:15,760
going to show up
on the device.

105
00:05:15,760 --> 00:05:17,920

106
00:05:17,920 --> 00:05:22,310
It's important to note that this
is a polymorphic object.

107
00:05:22,310 --> 00:05:25,290
The class of the proper is in
the type, Wallet Object class,

108
00:05:25,290 --> 00:05:26,000
loyalty class.

109
00:05:26,000 --> 00:05:27,200
This is a loyalty class.

110
00:05:27,200 --> 00:05:30,760
That specifies that there's a
particular schema behind this,

111
00:05:30,760 --> 00:05:33,550
and there would be fields that
are specific to that schema.

112
00:05:33,550 --> 00:05:34,970
Other schemas exist.

113
00:05:34,970 --> 00:05:40,450
They're schemas for loyalty
here, for offers, mentioned in

114
00:05:40,450 --> 00:05:42,260
the previous session.

115
00:05:42,260 --> 00:05:44,290
We're going to be doing things
like boarding passes and some

116
00:05:44,290 --> 00:05:45,260
other stuff.

117
00:05:45,260 --> 00:05:48,230
And there will also be a generic
class that has no

118
00:05:48,230 --> 00:05:50,460
pre-defined schema that allows
you to define your own.

119
00:05:50,460 --> 00:05:56,010

120
00:05:56,010 --> 00:05:59,070
The Wallet Object is an instance
of this class.

121
00:05:59,070 --> 00:06:03,080
So for each program, there will
be actual cards showing

122
00:06:03,080 --> 00:06:05,310
up on devices or
within Wallets.

123
00:06:05,310 --> 00:06:07,600
And that corresponds to
the Wallet Object.

124
00:06:07,600 --> 00:06:08,840
This is also polymorphic.

125
00:06:08,840 --> 00:06:11,270
You'll see here that
it's using the

126
00:06:11,270 --> 00:06:13,260
same type as the class.

127
00:06:13,260 --> 00:06:16,110
It also has specific information
for this end user,

128
00:06:16,110 --> 00:06:20,265
for example, the number of
loyalty points that have been

129
00:06:20,265 --> 00:06:21,515
awarded to this user.

130
00:06:21,515 --> 00:06:26,150

131
00:06:26,150 --> 00:06:27,250
OK, the relationship--

132
00:06:27,250 --> 00:06:29,500
if this wasn't completely
clear-- between the object and

133
00:06:29,500 --> 00:06:32,570
the class is that for each
class there's a bunch of

134
00:06:32,570 --> 00:06:35,115
objects and for each object
there's a single class.

135
00:06:35,115 --> 00:06:37,740
This will become important later
when we think about how

136
00:06:37,740 --> 00:06:38,850
we do updates.

137
00:06:38,850 --> 00:06:39,860
This is your data.

138
00:06:39,860 --> 00:06:42,110
You can update this data
anytime you like.

139
00:06:42,110 --> 00:06:44,860
If you do an update to the class
information, it gets

140
00:06:44,860 --> 00:06:49,350
broadcast to all of the devices
that are holding an

141
00:06:49,350 --> 00:06:50,610
instance in that class.

142
00:06:50,610 --> 00:06:52,590
You could also, as
we'll see later,

143
00:06:52,590 --> 00:06:53,840
directly update the object.

144
00:06:53,840 --> 00:06:57,350

145
00:06:57,350 --> 00:06:59,330
So you as the issuer
own this data.

146
00:06:59,330 --> 00:07:02,780
You can create it and update
it as you please.

147
00:07:02,780 --> 00:07:05,200
There are very few rules
on when you do this.

148
00:07:05,200 --> 00:07:07,030
You can push these updates
as you like.

149
00:07:07,030 --> 00:07:11,606

150
00:07:11,606 --> 00:07:13,600
Did I screw up?

151
00:07:13,600 --> 00:07:15,630
Right.

152
00:07:15,630 --> 00:07:16,880
Where am I?

153
00:07:16,880 --> 00:07:20,750

154
00:07:20,750 --> 00:07:21,300
OK.

155
00:07:21,300 --> 00:07:22,640
There are a few different
ways of getting

156
00:07:22,640 --> 00:07:25,760
instances into the Wallet.

157
00:07:25,760 --> 00:07:30,450
The Save to Wallet from the
browser allows any website to

158
00:07:30,450 --> 00:07:35,370
include some JavaScript to
enable Save to Wallet.

159
00:07:35,370 --> 00:07:38,800
What happens here is the end
user visits the site and

160
00:07:38,800 --> 00:07:43,890
clicks on the Save to Wallet
button, and we arrange for

161
00:07:43,890 --> 00:07:46,490
that to be put onto the
device or devices.

162
00:07:46,490 --> 00:07:48,760
This is a pretty important point
is that things get into

163
00:07:48,760 --> 00:07:50,710
the user's Wallet, the
customer's wallet, because

164
00:07:50,710 --> 00:07:51,770
they put them there.

165
00:07:51,770 --> 00:07:54,530
This is a very strong signal
of interest here.

166
00:07:54,530 --> 00:07:58,860

167
00:07:58,860 --> 00:08:00,920
In addition-- and this is a
loyalty specific thing.

168
00:08:00,920 --> 00:08:02,730
Most of the things that I'm
talking about are pretty much

169
00:08:02,730 --> 00:08:04,790
general to Wallet Objects
across the board.

170
00:08:04,790 --> 00:08:07,450
But there are some specific ways
to get new instances of

171
00:08:07,450 --> 00:08:09,770
loyalty into the Wallet--

172
00:08:09,770 --> 00:08:12,340
specifically, sign
up and link.

173
00:08:12,340 --> 00:08:15,090
Sign up is for people who are
new to your program, and they

174
00:08:15,090 --> 00:08:16,590
want to participate.

175
00:08:16,590 --> 00:08:19,430
And link is when they have an
existing physical artifact and

176
00:08:19,430 --> 00:08:22,550
they want to get it into
their virtual Wallet.

177
00:08:22,550 --> 00:08:24,200
And we'll see these in detail
in the demo when

178
00:08:24,200 --> 00:08:25,450
Johnie covers that.

179
00:08:25,450 --> 00:08:30,640

180
00:08:30,640 --> 00:08:32,020
So of course, this is Google.

181
00:08:32,020 --> 00:08:34,760
When you push an update, either
to an instance or a

182
00:08:34,760 --> 00:08:39,100
class, we will reliably deliver
that update at scale,

183
00:08:39,100 --> 00:08:41,530
even if that class may have
thousands of instances

184
00:08:41,530 --> 00:08:44,790
associated with it distributed
geographically.

185
00:08:44,790 --> 00:08:46,040
We'll make sure that
gets delivered.

186
00:08:46,040 --> 00:08:53,060

187
00:08:53,060 --> 00:08:55,580
This is an important point to
note, is that when we get

188
00:08:55,580 --> 00:08:57,420
stuff onto the phone, it's
cached there, and it can be

189
00:08:57,420 --> 00:09:00,060
used online and offline.

190
00:09:00,060 --> 00:09:06,590
In addition, we can leverage
Google's geo-indexing to get

191
00:09:06,590 --> 00:09:08,830
really intelligent, here
and now surfacing.

192
00:09:08,830 --> 00:09:11,860
So the idea here is that you
walk into, let's say, a

193
00:09:11,860 --> 00:09:15,420
Marriott, and we can determine
that you have, in fact, a

194
00:09:15,420 --> 00:09:16,980
loyalty card relevant here.

195
00:09:16,980 --> 00:09:20,060
We can bring it up and show you
that there is and go ahead

196
00:09:20,060 --> 00:09:20,650
and use it.

197
00:09:20,650 --> 00:09:25,180
Or we could surface that you
can sign up for such a card

198
00:09:25,180 --> 00:09:26,450
right here and now.

199
00:09:26,450 --> 00:09:27,700
Hence the name.

200
00:09:27,700 --> 00:09:34,480

201
00:09:34,480 --> 00:09:36,250
And now that I've given that
over to you, I'd like to turn

202
00:09:36,250 --> 00:09:38,090
it over to Jonie to demonstrate

203
00:09:38,090 --> 00:09:38,930
some of that stuff.

204
00:09:38,930 --> 00:09:41,430
JOHNIE LEE: Thank you.

205
00:09:41,430 --> 00:09:42,700
Thanks, David.

206
00:09:42,700 --> 00:09:46,050
Hi, I'm Johnie Lee, and I'm
here to talk to you today

207
00:09:46,050 --> 00:09:50,210
about merchant integration with
the Wallet Objects API.

208
00:09:50,210 --> 00:09:52,430
If you were at the earlier
session, you would have gotten

209
00:09:52,430 --> 00:09:56,000
a quick peek of the sign up
functionality for a Marriott

210
00:09:56,000 --> 00:09:58,150
Rewards program within
a Google Wallet.

211
00:09:58,150 --> 00:10:00,690

212
00:10:00,690 --> 00:10:03,910
Marriott Rewards is one of our
featured partners with over 42

213
00:10:03,910 --> 00:10:05,640
million loyalty members.

214
00:10:05,640 --> 00:10:08,130
We have been working with
Marriott Rewards in building a

215
00:10:08,130 --> 00:10:09,860
solution that complements their

216
00:10:09,860 --> 00:10:11,920
existing mobile strategy.

217
00:10:11,920 --> 00:10:15,210
During this part of the session,
I will decompose the

218
00:10:15,210 --> 00:10:17,640
sign up and linking
functionality of the earlier

219
00:10:17,640 --> 00:10:21,140
demo, and just to give you an
idea of what it takes to

220
00:10:21,140 --> 00:10:24,470
integrate with our Wallet
Objects API.

221
00:10:24,470 --> 00:10:27,190
Keep in mind, though, that this
is a demo, and that when

222
00:10:27,190 --> 00:10:29,370
we launch the consumer
experience, the Marriott

223
00:10:29,370 --> 00:10:30,620
screens may differ.

224
00:10:30,620 --> 00:10:33,330

225
00:10:33,330 --> 00:10:37,030
The three parts of integration
that I will focus on today is

226
00:10:37,030 --> 00:10:40,550
the creating of a loyalty
Wallet Object.

227
00:10:40,550 --> 00:10:43,980
This is, as David mentioned
earlier, the base object that

228
00:10:43,980 --> 00:10:46,210
represents a loyalty program.

229
00:10:46,210 --> 00:10:49,430
The second step is the setting
up of the signed up and

230
00:10:49,430 --> 00:10:51,580
linking call back service.

231
00:10:51,580 --> 00:10:55,130
This allows the instant sign up
and linking directly from

232
00:10:55,130 --> 00:10:56,770
the mobile phone.

233
00:10:56,770 --> 00:11:00,050
And the third and final step is
the updating of the user's

234
00:11:00,050 --> 00:11:01,910
loyalty information
from the cloud.

235
00:11:01,910 --> 00:11:04,870

236
00:11:04,870 --> 00:11:09,340
As David mentioned earlier, the
Wallet Object class is the

237
00:11:09,340 --> 00:11:13,180
base representation for a
loyalty card, or a number of

238
00:11:13,180 --> 00:11:15,000
loyalty cards.

239
00:11:15,000 --> 00:11:18,320
What we have here is the Wallet
Object class that was

240
00:11:18,320 --> 00:11:20,320
used for the Marriott demo.

241
00:11:20,320 --> 00:11:24,260
In this we indicate the issuer
name and program name as

242
00:11:24,260 --> 00:11:26,190
Marriott and Marriott Rewards.

243
00:11:26,190 --> 00:11:30,110
And we specified the labels
that are used

244
00:11:30,110 --> 00:11:31,790
for each of the fields.

245
00:11:31,790 --> 00:11:36,410
In this case, the rewards tiers
are levels, and the

246
00:11:36,410 --> 00:11:40,280
account IDs are member IDs.

247
00:11:40,280 --> 00:11:43,050
So let's go ahead and try
inserting a loyalty Wallet

248
00:11:43,050 --> 00:11:44,300
Object class.

249
00:11:44,300 --> 00:11:53,040

250
00:11:53,040 --> 00:11:56,190
So what we have here is the same
exact Wallet Object class

251
00:11:56,190 --> 00:11:57,560
that I showed earlier.

252
00:11:57,560 --> 00:12:01,810
This is the JSON representation
of the Marriott

253
00:12:01,810 --> 00:12:04,460
Rewards loyalty card.

254
00:12:04,460 --> 00:12:08,310
And in here, as I pointed out
earlier, we have the issuer

255
00:12:08,310 --> 00:12:12,300
name, the program name, as well
as additional information

256
00:12:12,300 --> 00:12:15,420
such as the logo that will be
used to render the loyalty

257
00:12:15,420 --> 00:12:18,480
card and also the template
that will be

258
00:12:18,480 --> 00:12:21,730
used for the rendering.

259
00:12:21,730 --> 00:12:24,630
So as David mentioned earlier,
this is a REST based service.

260
00:12:24,630 --> 00:12:30,020
And to insert a class, it's as
easy as calling the Wallet

261
00:12:30,020 --> 00:12:35,730
Object class endpoint with
this as the payload.

262
00:12:35,730 --> 00:12:36,430
Sorry.

263
00:12:36,430 --> 00:12:37,460
Right there.

264
00:12:37,460 --> 00:12:39,120
And let's give that a try.

265
00:12:39,120 --> 00:12:41,670

266
00:12:41,670 --> 00:12:43,250
So voila.

267
00:12:43,250 --> 00:12:47,090
We've inserted a brand new
Wallet Object class in the

268
00:12:47,090 --> 00:12:48,670
Google Wallet cloud.

269
00:12:48,670 --> 00:12:51,610
At this point, you should be
able to use this Wallet Object

270
00:12:51,610 --> 00:12:56,050
class for save to Wallet as well
as sign up and linking.

271
00:12:56,050 --> 00:13:09,110

272
00:13:09,110 --> 00:13:12,910
Instant sign up and linking
allows your users to sign up

273
00:13:12,910 --> 00:13:17,300
for a brand new loyalty card for
your program directly from

274
00:13:17,300 --> 00:13:20,430
the mobile phone or link their
existing loyalty card with

275
00:13:20,430 --> 00:13:23,180
your loyalty program
to Google Wallet.

276
00:13:23,180 --> 00:13:28,860
This is all done through the
phone using Google Wallet.

277
00:13:28,860 --> 00:13:31,690
How this works is that a request
is sent from the

278
00:13:31,690 --> 00:13:35,250
client phone to the Google
Wallet cloud to the merchant

279
00:13:35,250 --> 00:13:36,370
callback service.

280
00:13:36,370 --> 00:13:39,710
And the merchant callback
service responds with an

281
00:13:39,710 --> 00:13:41,930
approved or rejected state.

282
00:13:41,930 --> 00:13:44,460
So what we're looking at
here is an example

283
00:13:44,460 --> 00:13:46,140
of a sign up request.

284
00:13:46,140 --> 00:13:49,580
The primary thing to focus on
in here is the Wallet user

285
00:13:49,580 --> 00:13:52,340
profile in the middle of
the sign up request.

286
00:13:52,340 --> 00:13:55,850
One of the benefits of instant
sign up is that we use the

287
00:13:55,850 --> 00:14:00,770
information that is in the
user's Wallet profile to

288
00:14:00,770 --> 00:14:05,690
pre-populate the forms that are
used to sign up for your

289
00:14:05,690 --> 00:14:07,000
loyalty program.

290
00:14:07,000 --> 00:14:11,370
The merchant will need to
pre-select a number of fields

291
00:14:11,370 --> 00:14:13,950
that they would like, which
includes first name, last

292
00:14:13,950 --> 00:14:16,680
name, email, phone
number, maybe zip

293
00:14:16,680 --> 00:14:20,365
code, a number of options.

294
00:14:20,365 --> 00:14:23,695

295
00:14:23,695 --> 00:14:26,430
The information is sent to the
merchant with the user's

296
00:14:26,430 --> 00:14:27,730
explicit permission.

297
00:14:27,730 --> 00:14:32,640

298
00:14:32,640 --> 00:14:35,560
So once the merchant has
received their request and

299
00:14:35,560 --> 00:14:38,240
processed the request, the
merchant is expected to send

300
00:14:38,240 --> 00:14:41,010
back an either improved
response

301
00:14:41,010 --> 00:14:42,850
or a failure response.

302
00:14:42,850 --> 00:14:45,510
This is an example of a
successful response.

303
00:14:45,510 --> 00:14:49,100
In this, the three main fields
to focus on are the sign up

304
00:14:49,100 --> 00:14:50,900
result-- in this case,
it's approved--

305
00:14:50,900 --> 00:14:53,410
the welcome message, and
the Wallet Object.

306
00:14:53,410 --> 00:14:58,440
The welcome message is what is
shown to the user when they've

307
00:14:58,440 --> 00:15:01,270
successfully signed up for the
program welcoming them to be

308
00:15:01,270 --> 00:15:03,050
your loyalty program.

309
00:15:03,050 --> 00:15:06,830
The Wallet Object is the
representation of the loyalty

310
00:15:06,830 --> 00:15:09,860
account within Google Wallet.

311
00:15:09,860 --> 00:15:13,040
In the Wallet Object, it
contains information such as

312
00:15:13,040 --> 00:15:16,200
the number of loyalty points,
the status, and account name.

313
00:15:16,200 --> 00:15:19,990

314
00:15:19,990 --> 00:15:25,455
For a failure response, this is
a typical failure response.

315
00:15:25,455 --> 00:15:28,770

316
00:15:28,770 --> 00:15:31,840
We have a sign up result, which
is in this case was

317
00:15:31,840 --> 00:15:33,480
rejected, and the message

318
00:15:33,480 --> 00:15:34,825
indicating why it was rejected.

319
00:15:34,825 --> 00:15:37,490

320
00:15:37,490 --> 00:15:40,330
So let's go through and
take a look at an

321
00:15:40,330 --> 00:15:42,395
example callback service.

322
00:15:42,395 --> 00:15:48,670

323
00:15:48,670 --> 00:15:52,450
So what we have here is a
Python based App Engine

324
00:15:52,450 --> 00:15:56,840
service that was used to run the
Marriott Rewards demo from

325
00:15:56,840 --> 00:15:58,580
earlier today.

326
00:15:58,580 --> 00:16:01,230
Since we cannot actually hook
up to the Marriott loyalty

327
00:16:01,230 --> 00:16:04,970
back end, I've subbed out the
system by creating this data

328
00:16:04,970 --> 00:16:09,230
access layer which supported
creating a new loyalty account

329
00:16:09,230 --> 00:16:13,590
from the user profile and
looking up an existing loyalty

330
00:16:13,590 --> 00:16:17,540
account using the account ID.

331
00:16:17,540 --> 00:16:23,360
And I pre-populate the values
for the account with a random

332
00:16:23,360 --> 00:16:26,020
number of points.

333
00:16:26,020 --> 00:16:28,410
The request handler
here handles two

334
00:16:28,410 --> 00:16:30,370
types of post requests--

335
00:16:30,370 --> 00:16:33,120
sign up and linking.

336
00:16:33,120 --> 00:16:36,750
For sign up, the three steps
that I go through is first, I

337
00:16:36,750 --> 00:16:39,980
create a new loyalty account
in my back end.

338
00:16:39,980 --> 00:16:44,280
Then I take that loyalty account
and convert it from my

339
00:16:44,280 --> 00:16:48,150
domain specific loyalty account
to a Wallet Object.

340
00:16:48,150 --> 00:16:51,200
As you can see in here, I do
a direct mapping from the

341
00:16:51,200 --> 00:16:53,640
account name to the account
name field in the Wallet

342
00:16:53,640 --> 00:16:56,650
Object, account ID
respectively.

343
00:16:56,650 --> 00:17:00,320
In addition to that, I do
additional customization to

344
00:17:00,320 --> 00:17:03,730
further brand this loyalty
card for the

345
00:17:03,730 --> 00:17:04,980
Marriott Rewards program.

346
00:17:04,980 --> 00:17:08,980

347
00:17:08,980 --> 00:17:12,680
Once I've done that, I add the
additional welcome message and

348
00:17:12,680 --> 00:17:15,270
the sign up result, as you can
see here, and wrap that in the

349
00:17:15,270 --> 00:17:17,890
JSON RPC 2.0 envelope.

350
00:17:17,890 --> 00:17:21,390
So we can actually go ahead
and give this a try.

351
00:17:21,390 --> 00:17:24,849
What I'm going to do is I'm
going to send this fake

352
00:17:24,849 --> 00:17:29,700
request here with the Wallet
user, John Smith and the phone

353
00:17:29,700 --> 00:17:34,420
number there, to an App Engine
server that is run locally.

354
00:17:34,420 --> 00:17:37,650

355
00:17:37,650 --> 00:17:43,050
So here's the request that we're
sending, and the App

356
00:17:43,050 --> 00:17:47,010
Engine server responded
correctly with the Wallet

357
00:17:47,010 --> 00:17:50,220
Object instance and response.

358
00:17:50,220 --> 00:17:51,180
So this is fine and all.

359
00:17:51,180 --> 00:17:53,670
But why don't we look at the
in the real production

360
00:17:53,670 --> 00:17:54,920
environment on the phone?

361
00:17:54,920 --> 00:18:01,670

362
00:18:01,670 --> 00:18:03,060
So here--

363
00:18:03,060 --> 00:18:04,560
focus.

364
00:18:04,560 --> 00:18:05,810
Good.

365
00:18:05,810 --> 00:18:08,760

366
00:18:08,760 --> 00:18:12,910
So here, I have the Google
Wallet application that we are

367
00:18:12,910 --> 00:18:14,040
using for testing.

368
00:18:14,040 --> 00:18:17,350
And again, this is for demo
purposes, and the actual

369
00:18:17,350 --> 00:18:19,640
consumer experience
may differ.

370
00:18:19,640 --> 00:18:23,030
And what we do is we go in
here, find the Marriott

371
00:18:23,030 --> 00:18:30,100
Rewards program, and it should
load up the additional

372
00:18:30,100 --> 00:18:32,950
information about the
Marriott Rewards.

373
00:18:32,950 --> 00:18:36,260
This was similar to the demo
that you saw earlier.

374
00:18:36,260 --> 00:18:37,910
Then we click on Join Now.

375
00:18:37,910 --> 00:18:40,730
And as you can see, it
pre-populates the form with

376
00:18:40,730 --> 00:18:45,780
the name of the user on this
phone, on this account.

377
00:18:45,780 --> 00:18:48,160
I agree to the terms,
and I would like to

378
00:18:48,160 --> 00:18:51,050
get additional emails.

379
00:18:51,050 --> 00:18:52,300
And then I create an account.

380
00:18:52,300 --> 00:18:56,300

381
00:18:56,300 --> 00:18:57,280
And there you go.

382
00:18:57,280 --> 00:19:01,490
We have a brand new loyalty card
instantly inserted into

383
00:19:01,490 --> 00:19:02,740
our Google Wallet application.

384
00:19:02,740 --> 00:19:08,720

385
00:19:08,720 --> 00:19:11,350
So let's take a look at
the back end server

386
00:19:11,350 --> 00:19:13,760
that ran this instance.

387
00:19:13,760 --> 00:19:17,015
Right here, we have the logs
for the App Engine server.

388
00:19:17,015 --> 00:19:21,100

389
00:19:21,100 --> 00:19:25,660
And as you can see
here, this is the

390
00:19:25,660 --> 00:19:27,980
request that was received.

391
00:19:27,980 --> 00:19:30,770
And this was the response
that was returned back.

392
00:19:30,770 --> 00:19:35,460

393
00:19:35,460 --> 00:19:37,250
And really, that's
all there is to

394
00:19:37,250 --> 00:19:38,730
creating a callback service.

395
00:19:38,730 --> 00:19:41,860
Obviously, when you integrate
this with your loyalty back

396
00:19:41,860 --> 00:19:44,560
end, there's additional business
logics that you may

397
00:19:44,560 --> 00:19:48,250
use to create provision
a new account or

398
00:19:48,250 --> 00:19:50,070
link an existing account.

399
00:19:50,070 --> 00:19:56,430

400
00:19:56,430 --> 00:20:01,380
So your once your consumers
have linked their loyalty

401
00:20:01,380 --> 00:20:05,010
account with your loyalty
program to Google Wallet, this

402
00:20:05,010 --> 00:20:07,060
is where the fun part
really comes in.

403
00:20:07,060 --> 00:20:10,830
This is the part that you can
really engage your consumers

404
00:20:10,830 --> 00:20:15,400
by updating their information
regularly or sending them

405
00:20:15,400 --> 00:20:18,040
messages directly to
their mobile phone.

406
00:20:18,040 --> 00:20:21,410

407
00:20:21,410 --> 00:20:25,380
To updatable a loyalty account,
as David mentioned

408
00:20:25,380 --> 00:20:29,530
earlier, we send this
REST resource to

409
00:20:29,530 --> 00:20:32,910
the resource endpoint.

410
00:20:32,910 --> 00:20:35,400
This is a Wallet
Object payload.

411
00:20:35,400 --> 00:20:37,560
And in here, we update
the number of

412
00:20:37,560 --> 00:20:40,230
points to 2000 points.

413
00:20:40,230 --> 00:20:46,050
And you can also update any of
the other fields as necessary.

414
00:20:46,050 --> 00:20:50,508
We then send this as
a part request to

415
00:20:50,508 --> 00:20:51,758
the resource endpoint.

416
00:20:51,758 --> 00:20:54,010

417
00:20:54,010 --> 00:20:57,450
Likewise, for messages, we
send the message payload

418
00:20:57,450 --> 00:21:01,390
either to a Wallet Object
endpoint or to a Wallet Object

419
00:21:01,390 --> 00:21:02,700
class endpoint.

420
00:21:02,700 --> 00:21:06,120
The difference being that a
message sent to Wallet Object

421
00:21:06,120 --> 00:21:09,560
goes to one specific user, and
a message sent to a Wallet

422
00:21:09,560 --> 00:21:11,670
Object class goes to
a group of users.

423
00:21:11,670 --> 00:21:14,480

424
00:21:14,480 --> 00:21:17,230
So why don't we give
this a try here?

425
00:21:17,230 --> 00:21:21,630

426
00:21:21,630 --> 00:21:22,880
All right.

427
00:21:22,880 --> 00:21:28,410

428
00:21:28,410 --> 00:21:31,560
So last night, I stayed at the
Marriott Marquis, like many

429
00:21:31,560 --> 00:21:32,130
people here.

430
00:21:32,130 --> 00:21:35,860
And I've earned an additional
2,500 points for staying at

431
00:21:35,860 --> 00:21:37,290
the Marriott Marquis.

432
00:21:37,290 --> 00:21:40,590
So what I would like to do is
then update the number of

433
00:21:40,590 --> 00:21:46,120
points for this loyalty account
to reflect my new

434
00:21:46,120 --> 00:21:47,980
points status.

435
00:21:47,980 --> 00:21:51,360
What I've done is I've taken
the Wallet Object

436
00:21:51,360 --> 00:21:53,510
that we just created.

437
00:21:53,510 --> 00:21:56,230
We update the version
number to indicate

438
00:21:56,230 --> 00:21:57,860
that it's an update.

439
00:21:57,860 --> 00:22:03,880
And then we update the number
of points to 2,500.

440
00:22:03,880 --> 00:22:12,110
At this point, we find the ID
that was created, that we

441
00:22:12,110 --> 00:22:19,820
created and send that payload
to that resources endpoint.

442
00:22:19,820 --> 00:22:23,280

443
00:22:23,280 --> 00:22:24,970
And then there you go.

444
00:22:24,970 --> 00:22:27,090
The number of points
has updated.

445
00:22:27,090 --> 00:22:34,480
And then if we go back to the
phone itself and hit refresh,

446
00:22:34,480 --> 00:22:38,762
we can see that the number
of points is now 2,500.

447
00:22:38,762 --> 00:22:42,490
[APPLAUSE]

448
00:22:42,490 --> 00:22:43,260
JOHNIE LEE: There you go--

449
00:22:43,260 --> 00:22:47,370
2,500.

450
00:22:47,370 --> 00:22:51,370
So what I've shown you here
is the ability to easily

451
00:22:51,370 --> 00:22:54,170
integrate with the Wallet
Object back end.

452
00:22:54,170 --> 00:22:58,160
And to go back to a story that
Pallavi told earlier.

453
00:22:58,160 --> 00:23:01,400
Imagine now you walk into
the lobby of a hotel.

454
00:23:01,400 --> 00:23:03,020
You have your Google
Wallet on you.

455
00:23:03,020 --> 00:23:06,890
You realize that you
don't have a

456
00:23:06,890 --> 00:23:08,650
membership with that hotel.

457
00:23:08,650 --> 00:23:11,770
You find that program in your
Google Wallet, sign up

458
00:23:11,770 --> 00:23:15,400
instantly, and by the time you
check in, your loyalty account

459
00:23:15,400 --> 00:23:18,120
is updated to the most recent
point transaction.

460
00:23:18,120 --> 00:23:20,470
Now, that is a great
user experience.

461
00:23:20,470 --> 00:23:24,200
I will turn it back to
Pallavi for wrap up.

462
00:23:24,200 --> 00:23:24,870
PALLAVI NARESH: Great.

463
00:23:24,870 --> 00:23:27,626
Thanks, Johnie.

464
00:23:27,626 --> 00:23:28,590
Let's see.

465
00:23:28,590 --> 00:23:29,840
How do I switch this back?

466
00:23:29,840 --> 00:23:33,260

467
00:23:33,260 --> 00:23:36,300
We hope that you'll walk away
from this session with a good

468
00:23:36,300 --> 00:23:40,280
understanding on how to use
the Wallet Objects API to

469
00:23:40,280 --> 00:23:42,340
acquire new customers
and engage

470
00:23:42,340 --> 00:23:45,490
your existing customers.

471
00:23:45,490 --> 00:23:49,260
The best part about this is that
it's a single simple API

472
00:23:49,260 --> 00:23:51,340
for loyalty offers and more.

473
00:23:51,340 --> 00:23:54,320

474
00:23:54,320 --> 00:23:57,350
We're already working with some
great partners, including

475
00:23:57,350 --> 00:24:01,000
several folks who are powering
some of the world's largest

476
00:24:01,000 --> 00:24:03,420
loyalty programs.

477
00:24:03,420 --> 00:24:06,550
If you're interested in signing
up, visit the website

478
00:24:06,550 --> 00:24:08,730
listed here on this slide.

479
00:24:08,730 --> 00:24:12,730
And we're providing access
in the coming days.

480
00:24:12,730 --> 00:24:14,870
We're also available
outside for office

481
00:24:14,870 --> 00:24:17,110
hours in our sandbox.

482
00:24:17,110 --> 00:24:19,960
You can also check out some live
integrations there to see

483
00:24:19,960 --> 00:24:22,160
this all in action.

484
00:24:22,160 --> 00:24:25,430
With that, I want to open the
floor up for questions.

485
00:24:25,430 --> 00:24:26,330
Any questions?

486
00:24:26,330 --> 00:24:28,110
Feel free to come up to
the mic in the middle.

487
00:24:28,110 --> 00:24:31,062

488
00:24:31,062 --> 00:24:32,540
DAVID BUTCHER: Shy crowd.

489
00:24:32,540 --> 00:24:34,100
Here's one.

490
00:24:34,100 --> 00:24:34,300
AUDIENCE: Hi.

491
00:24:34,300 --> 00:24:37,830
Are there any plans to make
the developer version of

492
00:24:37,830 --> 00:24:40,120
Google Wallet that you guys
are using available to

493
00:24:40,120 --> 00:24:41,540
developers along
with the APIs?

494
00:24:41,540 --> 00:24:44,230

495
00:24:44,230 --> 00:24:50,690
PALLAVI NARESH: For now, we are
working with partners to

496
00:24:50,690 --> 00:24:53,010
provide tools that allow you to

497
00:24:53,010 --> 00:24:56,110
preview your Wallet Objects.

498
00:24:56,110 --> 00:24:59,390
And then we are working to
quickly launch the consumer

499
00:24:59,390 --> 00:25:00,910
experience so that you
can use that in

500
00:25:00,910 --> 00:25:02,245
your development process.

501
00:25:02,245 --> 00:25:03,495
AUDIENCE: OK, thank you.

502
00:25:03,495 --> 00:25:09,100

503
00:25:09,100 --> 00:25:15,530
AUDIENCE: In the app, how much
room do you have to customize

504
00:25:15,530 --> 00:25:17,670
how your Wallet Object looks?

505
00:25:17,670 --> 00:25:20,938
And are there plans to
change things if

506
00:25:20,938 --> 00:25:25,080
they're not that flexible?

507
00:25:25,080 --> 00:25:27,610
PALLAVI NARESH: So we actually
allow several degrees of

508
00:25:27,610 --> 00:25:32,070
freedom in customization so that
you can really showcase

509
00:25:32,070 --> 00:25:33,320
your brand.

510
00:25:33,320 --> 00:25:36,620
For specific details, you
can check out the

511
00:25:36,620 --> 00:25:38,660
documentation on the API.

512
00:25:38,660 --> 00:25:42,220
But in general, it's quite
flexible in terms of the

513
00:25:42,220 --> 00:25:46,390
layout you can choose, the
colors, the logos, as well as

514
00:25:46,390 --> 00:25:51,360
the information that you
show in your card.

515
00:25:51,360 --> 00:25:51,840
Great.

516
00:25:51,840 --> 00:25:54,410
AUDIENCE: So the consumer of
your services really seems to

517
00:25:54,410 --> 00:25:56,240
be aimed at businesses--

518
00:25:56,240 --> 00:25:58,960
creating loyalty cards that
reflect what they offer in the

519
00:25:58,960 --> 00:26:00,770
physical world.

520
00:26:00,770 --> 00:26:03,830
But like we saw with Apple's
Passbook, there was an

521
00:26:03,830 --> 00:26:07,780
opportunity for companies that
wanted to support small

522
00:26:07,780 --> 00:26:09,760
businesses that don't have
formal loyalty programs to

523
00:26:09,760 --> 00:26:13,340
sort of consolidate and
act as a broker.

524
00:26:13,340 --> 00:26:15,640
Is there a similar
opportunity here?

525
00:26:15,640 --> 00:26:18,700
Or do you think that the main
consumer is going to be

526
00:26:18,700 --> 00:26:20,920
partners who create
loyalty programs

527
00:26:20,920 --> 00:26:22,800
for their own business?

528
00:26:22,800 --> 00:26:24,360
PALLAVI NARESH: We're actually
already partnering with

529
00:26:24,360 --> 00:26:27,660
BellyCard that is doing exactly
what you describe.

530
00:26:27,660 --> 00:26:32,100
So you can also use the Wallet
Objects API to--

531
00:26:32,100 --> 00:26:33,170
AUDIENCE: Represent other--

532
00:26:33,170 --> 00:26:34,140
PALLAVI NARESH: To
represent others.

533
00:26:34,140 --> 00:26:34,800
That's right.

534
00:26:34,800 --> 00:26:35,110
AUDIENCE: OK.

535
00:26:35,110 --> 00:26:35,420
That was the question.

536
00:26:35,420 --> 00:26:36,670
Thanks.

537
00:26:36,670 --> 00:26:39,560

538
00:26:39,560 --> 00:26:40,810
PALLAVI NARESH: More
questions?

539
00:26:40,810 --> 00:26:48,470

540
00:26:48,470 --> 00:26:49,200
Great.

541
00:26:49,200 --> 00:26:52,820
Well then, with that, we'll wrap
up and hope to see you

542
00:26:52,820 --> 00:26:55,040
guys all in our sandbox
outside.

543
00:26:55,040 --> 00:26:55,650
DAVID BUTCHER: Thank you.

544
00:26:55,650 --> 00:26:56,900
JOHNIE LEE: Thank you.

545
00:26:56,900 --> 00:27:01,658

